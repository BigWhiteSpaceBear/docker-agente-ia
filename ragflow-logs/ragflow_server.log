2026-01-13 12:27:54,114 INFO     18 ragflow_server log path: /ragflow/logs/ragflow_server.log, log levels: {'peewee': 'WARNING', 'pdfminer': 'WARNING', 'root': 'INFO'}
2026-01-13 12:27:54,115 INFO     18 
        ____   ___    ______ ______ __
       / __ \ /   |  / ____// ____// /____  _      __
      / /_/ // /| | / / __ / /_   / // __ \| | /| / /
     / _, _// ___ |/ /_/ // __/  / // /_/ /| |/ |/ /
    /_/ |_|/_/  |_|\____//_/    /_/ \____/ |__/|__/

    
2026-01-13 12:27:54,115 INFO     18 RAGFlow version: v0.23.1
2026-01-13 12:27:54,116 INFO     18 project base: /ragflow
2026-01-13 12:27:54,117 INFO     18 Current configs, from /ragflow/conf/service_conf.yaml:
	ragflow: {'host': '0.0.0.0', 'http_port': 9380}
	admin: {'host': '0.0.0.0', 'http_port': 9381}
	mysql: {'name': 'rag_flow', 'user': 'root', 'password': '********', 'host': 'mysql', 'port': 3306, 'max_connections': 900, 'stale_timeout': 300, 'max_allowed_packet': 1073741824}
	minio: {'user': 'rag_flow', 'password': '********', 'host': 'minio:9000', 'bucket': '', 'prefix_path': ''}
	es: {'hosts': 'http://es01:9200', 'username': 'elastic', 'password': '********'}
	os: {'hosts': 'http://opensearch01:9201', 'username': 'admin', 'password': '********'}
	infinity: {'uri': 'infinity:23817', 'db_name': 'default_db'}
	oceanbase: {'scheme': 'oceanbase', 'config': {'db_name': 'ragflow_doc', 'user': 'root@ragflow', 'password': 'infini_rag_flow', 'host': 'oceanbase', 'port': 2881}}
	redis: {'db': 1, 'username': '', 'password': '********', 'host': 'redis:6379'}
	user_default_llm: {'default_models': {'embedding_model': {'api_key': 'xxx', 'base_url': 'http://tei:80'}}}
2026-01-13 12:27:54,119 WARNING  18 SECURITY WARNING: Using auto-generated SECRET_KEY.
2026-01-13 12:27:54,124 WARNING  18 Load term.freq FAIL!
2026-01-13 12:27:54,133 WARNING  18 Realtime synonym is disabled, since no redis connection.
2026-01-13 12:27:54,137 WARNING  18 Load term.freq FAIL!
2026-01-13 12:27:54,143 WARNING  18 Realtime synonym is disabled, since no redis connection.
2026-01-13 12:27:54,144 INFO     18 MAX_CONTENT_LENGTH: 134217728
2026-01-13 12:27:54,145 INFO     18 MAX_FILE_COUNT_PER_USER: 0
2026-01-13 12:28:12,973 INFO     18 Init message_id sequence done, current max id is 1.
2026-01-13 12:28:12,975 INFO     18 No memory found, no need to init memory size.
2026-01-13 12:28:12,977 INFO     18 init web data success:7.180915117263794
2026-01-13 12:28:12,978 INFO     18 Recursively importing plugins from path `/ragflow/plugin/embedded_plugins`
2026-01-13 12:28:12,980 INFO     18 Loaded llm_tools plugin BadCalculatorPlugin version 1.0.0
2026-01-13 12:28:12,981 INFO     18 RAGFlow HTTP server start...
2026-01-13 12:28:13,245 INFO     18 Running on http://0.0.0.0:9380 (CTRL + C to quit)
2026-01-13 12:28:13,981 INFO     18 Starting update_progress thread (delayed)
2026-01-13 12:28:13,983 INFO     18 update_progress lock_value: cb47c510-9301-4cec-811f-2b661b3d5f06
2026-01-13 12:28:32,477 ERROR    18 The requested URL / was not found
2026-01-13 12:28:32,704 ERROR    18 The requested URL / was not found
2026-01-14 06:07:12,405 INFO     18 ragflow_server log path: /ragflow/logs/ragflow_server.log, log levels: {'peewee': 'WARNING', 'pdfminer': 'WARNING', 'root': 'INFO'}
2026-01-14 06:07:12,407 INFO     18 
        ____   ___    ______ ______ __
       / __ \ /   |  / ____// ____// /____  _      __
      / /_/ // /| | / / __ / /_   / // __ \| | /| / /
     / _, _// ___ |/ /_/ // __/  / // /_/ /| |/ |/ /
    /_/ |_|/_/  |_|\____//_/    /_/ \____/ |__/|__/

    
2026-01-14 06:07:12,407 INFO     18 RAGFlow version: v0.23.1
2026-01-14 06:07:12,408 INFO     18 project base: /ragflow
2026-01-14 06:07:12,409 INFO     18 Current configs, from /ragflow/conf/service_conf.yaml:
	ragflow: {'host': '0.0.0.0', 'http_port': 9380}
	admin: {'host': '0.0.0.0', 'http_port': 9381}
	mysql: {'name': 'rag_flow', 'user': 'root', 'password': '********', 'host': 'mysql', 'port': 3306, 'max_connections': 900, 'stale_timeout': 300, 'max_allowed_packet': 1073741824}
	minio: {'user': 'rag_flow', 'password': '********', 'host': 'minio:9000', 'bucket': '', 'prefix_path': ''}
	es: {'hosts': 'http://es01:9200', 'username': 'elastic', 'password': '********'}
	os: {'hosts': 'http://opensearch01:9201', 'username': 'admin', 'password': '********'}
	infinity: {'uri': 'infinity:23817', 'db_name': 'default_db'}
	oceanbase: {'scheme': 'oceanbase', 'config': {'db_name': 'ragflow_doc', 'user': 'root@ragflow', 'password': 'infini_rag_flow', 'host': 'oceanbase', 'port': 2881}}
	redis: {'db': 1, 'username': '', 'password': '********', 'host': 'redis:6379'}
	user_default_llm: {'default_models': {'embedding_model': {'api_key': 'xxx', 'base_url': 'http://tei:80'}}}
2026-01-14 06:07:12,410 WARNING  18 SECURITY WARNING: Using auto-generated SECRET_KEY.
2026-01-14 06:07:12,415 WARNING  18 Load term.freq FAIL!
2026-01-14 06:07:12,422 WARNING  18 Realtime synonym is disabled, since no redis connection.
2026-01-14 06:07:12,426 WARNING  18 Load term.freq FAIL!
2026-01-14 06:07:12,432 WARNING  18 Realtime synonym is disabled, since no redis connection.
2026-01-14 06:07:12,433 INFO     18 MAX_CONTENT_LENGTH: 134217728
2026-01-14 06:07:12,434 INFO     18 MAX_FILE_COUNT_PER_USER: 0
2026-01-14 06:07:19,148 INFO     18 Init message_id sequence done, current max id is 1.
2026-01-14 06:07:19,152 INFO     18 No memory found, no need to init memory size.
2026-01-14 06:07:19,154 INFO     18 init web data success:6.161041498184204
2026-01-14 06:07:19,156 INFO     18 Recursively importing plugins from path `/ragflow/plugin/embedded_plugins`
2026-01-14 06:07:19,160 INFO     18 Loaded llm_tools plugin BadCalculatorPlugin version 1.0.0
2026-01-14 06:07:19,162 INFO     18 RAGFlow HTTP server start...
2026-01-14 06:07:19,602 INFO     18 Running on http://0.0.0.0:9380 (CTRL + C to quit)
2026-01-14 06:07:20,163 INFO     18 Starting update_progress thread (delayed)
2026-01-14 06:07:20,164 INFO     18 update_progress lock_value: 482457f4-7675-48dd-8959-e6ec5278f297
2026-01-14 06:08:55,997 ERROR    18 The requested URL / was not found
2026-01-14 06:09:09,563 ERROR    18 The requested URL / was not found
2026-01-14 06:09:33,228 ERROR    18 The requested URL / was not found
2026-01-14 06:10:13,312 ERROR    18 The requested URL / was not found
2026-01-14 06:26:02,729 ERROR    18 Model(@None) not authorized
Traceback (most recent call last):
  File "/ragflow/api/apps/conversation_app.py", line 224, in stream
    async for ans in async_chat(dia, msg, True, **req):
  File "/ragflow/api/db/services/dialog_service.py", line 284, in async_chat
    async for ans in async_chat_solo(dialog, messages, stream):
  File "/ragflow/api/db/services/dialog_service.py", line 189, in async_chat_solo
    chat_mdl = LLMBundle(dialog.tenant_id, LLMType.CHAT, dialog.llm_id)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/ragflow/api/db/services/llm_service.py", line 87, in __init__
    super().__init__(tenant_id, llm_type, llm_name, lang, **kwargs)
  File "/ragflow/api/db/services/tenant_llm_service.py", line 332, in __init__
    self.mdl = TenantLLMService.model_instance(tenant_id, llm_type, llm_name, lang=lang, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/ragflow/.venv/lib/python3.12/site-packages/peewee.py", line 3128, in inner
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
  File "/ragflow/api/db/services/tenant_llm_service.py", line 138, in model_instance
    model_config = TenantLLMService.get_model_config(tenant_id, llm_type, llm_name)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/ragflow/.venv/lib/python3.12/site-packages/peewee.py", line 3128, in inner
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
  File "/ragflow/api/db/services/tenant_llm_service.py", line 126, in get_model_config
    raise LookupError(f"Model({mdlnm}@{fid}) not authorized")
LookupError: Model(@None) not authorized
2026-01-14 06:26:50,473 WARNING  18 Database connection issue (attempt 1/5): (0, '')
2026-01-14 06:39:35,344 ERROR    18 
Fail to access embedding model(llama3.1).model "llama3.1" not found, try pulling it first (status code: 404)
NoneType: None
2026-01-14 06:41:57,600 INFO     18 [HISTORY][
  {
    "role": "user",
    "content": "Hello! How are you doing!"
  }
]
2026-01-14 06:41:57,725 INFO     18 
LiteLLM completion() model= llama3.1; provider = ollama_chat
2026-01-14 06:41:57,912 INFO     18 
LiteLLM completion() model= llama3.1; provider = ollama_chat
2026-01-14 06:41:57,928 INFO     18 
LiteLLM completion() model= llama3.1; provider = ollama_chat
2026-01-14 06:41:57,944 INFO     18 
LiteLLM completion() model= llama3.1; provider = ollama_chat
2026-01-14 06:41:57,955 INFO     18 
LiteLLM completion() model= llama3.1; provider = ollama_chat
2026-01-14 06:41:57,968 INFO     18 
LiteLLM completion() model= llama3.1; provider = ollama_chat
2026-01-14 06:41:57,990 ERROR    18 LiteLLMBase async completion
Traceback (most recent call last):
  File "/ragflow/.venv/lib/python3.12/site-packages/litellm/llms/custom_httpx/llm_http_handler.py", line 156, in _make_common_async_call
    response = await async_httpx_client.post(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/ragflow/.venv/lib/python3.12/site-packages/litellm/litellm_core_utils/logging_utils.py", line 190, in async_wrapper
    result = await func(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/ragflow/.venv/lib/python3.12/site-packages/litellm/llms/custom_httpx/http_handler.py", line 450, in post
    raise e
  File "/ragflow/.venv/lib/python3.12/site-packages/litellm/llms/custom_httpx/http_handler.py", line 406, in post
    response.raise_for_status()
  File "/ragflow/.venv/lib/python3.12/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '404 Not Found' for url 'http://ollama:11434/api/chat'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/ragflow/.venv/lib/python3.12/site-packages/litellm/main.py", line 607, in acompletion
    response = await init_response
               ^^^^^^^^^^^^^^^^^^^
  File "/ragflow/.venv/lib/python3.12/site-packages/litellm/llms/custom_httpx/llm_http_handler.py", line 288, in async_completion
    response = await self._make_common_async_call(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/ragflow/.venv/lib/python3.12/site-packages/litellm/llms/custom_httpx/llm_http_handler.py", line 181, in _make_common_async_call
    raise self._handle_error(e=e, provider_config=provider_config)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/ragflow/.venv/lib/python3.12/site-packages/litellm/llms/custom_httpx/llm_http_handler.py", line 3601, in _handle_error
    raise provider_config.get_error_class(
litellm.llms.ollama.common_utils.OllamaError: {"error":"model 'llama3.1' not found"}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/ragflow/rag/llm/chat_model.py", line 1270, in async_chat
    response = await litellm.acompletion(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/ragflow/.venv/lib/python3.12/site-packages/litellm/utils.py", line 1643, in wrapper_async
    raise e
  File "/ragflow/.venv/lib/python3.12/site-packages/litellm/utils.py", line 1489, in wrapper_async
    result = await original_function(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/ragflow/.venv/lib/python3.12/site-packages/litellm/main.py", line 626, in acompletion
    raise exception_type(
          ^^^^^^^^^^^^^^^
  File "/ragflow/.venv/lib/python3.12/site-packages/litellm/litellm_core_utils/exception_mapping_utils.py", line 2329, in exception_type
    raise e
  File "/ragflow/.venv/lib/python3.12/site-packages/litellm/litellm_core_utils/exception_mapping_utils.py", line 2298, in exception_type
    raise APIConnectionError(
litellm.exceptions.APIConnectionError: litellm.APIConnectionError: Ollama_chatException - {"error":"model 'llama3.1' not found"} LiteLLM Retried: 5 times
2026-01-14 06:41:58,015 ERROR    18 async_chat_streamly giving up: **ERROR**: CONNECTION_ERROR - litellm.APIConnectionError: Ollama_chatException - {"error":"model 'llama3.1' not found"} LiteLLM Retried: 5 times
2026-01-14 06:41:58,019 ERROR    18 
Fail to access model(Ollama/llama3.1).**ERROR**: CONNECTION_ERROR - litellm.APIConnectionError: Ollama_chatException - {"error":"model 'llama3.1' not found"} LiteLLM Retried: 5 times
NoneType: None
2026-01-14 06:43:41,270 WARNING  18 Database connection issue (attempt 1/5): (0, '')
2026-01-14 06:46:21,586 WARNING  18 Database connection issue (attempt 1/5): (0, '')
2026-01-14 06:46:28,827 WARNING  18 Database connection issue (attempt 1/5): (0, '')
2026-01-14 06:46:28,862 WARNING  18 Database connection issue (attempt 1/5): (0, '')
2026-01-14 06:46:50,602 INFO     18 [HISTORY][
  {
    "role": "user",
    "content": "Hello! How are you doing!"
  }
]
2026-01-14 06:46:50,605 INFO     18 
LiteLLM completion() model= llama3.1; provider = ollama_chat
2026-01-14 06:47:12,716 WARNING  18 Database connection issue (attempt 1/5): (0, '')
2026-01-14 06:47:55,392 WARNING  18 Database connection issue (attempt 1/5): (0, '')
2026-01-14 06:47:55,409 WARNING  18 Database connection issue (attempt 1/5): (0, '')
2026-01-14 06:48:04,645 WARNING  18 Database connection issue (attempt 1/5): (0, '')
2026-01-14 06:48:37,770 WARNING  18 Database connection issue (attempt 1/5): (0, '')
2026-01-14 06:48:38,890 INFO     18 HEAD http://es01:9200/ragflow_48200b30f03811f09895fa2acd4ca7c8 [status:404 duration:0.102s]
2026-01-14 06:49:23,566 WARNING  18 Database connection issue (attempt 1/5): (0, '')
2026-01-14 06:49:24,584 INFO     18 HEAD http://es01:9200/ragflow_48200b30f03811f09895fa2acd4ca7c8 [status:404 duration:0.008s]
2026-01-14 06:51:19,767 WARNING  18 Database connection issue (attempt 1/5): (0, '')
2026-01-14 06:52:19,829 WARNING  18 Database connection issue (attempt 1/5): (0, '')
2026-01-14 06:52:33,407 WARNING  18 Database connection issue (attempt 1/5): (0, '')
2026-01-14 06:52:45,531 WARNING  18 Database connection issue (attempt 1/5): (0, '')
2026-01-14 06:52:47,671 INFO     18 HEAD http://es01:9200/ragflow_48200b30f03811f09895fa2acd4ca7c8 [status:404 duration:0.005s]
2026-01-14 06:54:08,032 INFO     18 HEAD http://es01:9200/ragflow_48200b30f03811f09895fa2acd4ca7c8 [status:404 duration:0.004s]
2026-01-14 06:54:28,669 WARNING  18 Database connection issue (attempt 1/5): (0, '')
2026-01-14 06:54:30,548 WARNING  18 Database connection issue (attempt 1/5): (0, '')
2026-01-14 06:56:12,236 WARNING  18 Database connection issue (attempt 1/5): (0, '')
2026-01-14 06:56:12,247 WARNING  18 Database connection issue (attempt 1/5): (0, '')
2026-01-14 06:56:13,258 INFO     18 HEAD http://es01:9200/ragflow_48200b30f03811f09895fa2acd4ca7c8 [status:404 duration:0.003s]
2026-01-14 06:56:35,510 ERROR    18 The requested URL / was not found
2026-01-14 06:57:01,907 ERROR    18 The requested URL / was not found
2026-01-14 06:57:16,618 ERROR    18 The requested URL / was not found
2026-01-14 07:04:38,431 INFO     18 HEAD http://es01:9200/ragflow_48200b30f03811f09895fa2acd4ca7c8 [status:404 duration:0.004s]
2026-01-14 07:04:38,439 WARNING  18 Database connection issue (attempt 1/5): (0, '')
2026-01-14 07:04:53,087 WARNING  18 Database connection issue (attempt 1/5): (0, '')
2026-01-14 07:04:53,090 INFO     18 HEAD http://es01:9200/ragflow_48200b30f03811f09895fa2acd4ca7c8 [status:404 duration:0.004s]
2026-01-14 07:04:59,624 WARNING  18 Database connection issue (attempt 1/5): (0, '')
2026-01-14 07:05:03,443 WARNING  18 Database connection issue (attempt 1/5): (0, '')
2026-01-14 07:05:07,166 INFO     18 HEAD http://es01:9200/ragflow_48200b30f03811f09895fa2acd4ca7c8 [status:404 duration:0.005s]
2026-01-14 07:06:58,723 WARNING  18 Database connection issue (attempt 1/5): (0, '')
2026-01-14 07:06:58,735 WARNING  18 Database connection issue (attempt 1/5): (0, '')
2026-01-14 07:06:59,750 WARNING  18 Database connection issue (attempt 1/5): (0, '')
2026-01-14 07:06:59,755 INFO     18 HEAD http://es01:9200/ragflow_48200b30f03811f09895fa2acd4ca7c8 [status:404 duration:0.004s]
2026-01-14 07:07:04,221 ERROR    18 The requested URL / was not found
2026-01-14 07:07:50,347 ERROR    18 The requested URL / was not found
2026-01-14 08:03:27,663 ERROR    18 The requested URL / was not found
2026-01-14 08:03:35,421 ERROR    18 The requested URL / was not found
2026-01-14 08:03:43,507 ERROR    18 The requested URL / was not found
2026-01-14 08:03:57,369 ERROR    18 The requested URL / was not found
2026-01-14 08:04:12,899 ERROR    18 The requested URL / was not found
2026-01-14 08:04:26,430 ERROR    18 The requested URL / was not found
2026-01-14 08:04:40,609 ERROR    18 The requested URL / was not found
2026-01-14 08:05:35,179 ERROR    18 The requested URL / was not found
2026-01-14 08:05:59,763 ERROR    18 The requested URL / was not found
2026-01-14 08:06:11,644 ERROR    18 The requested URL / was not found
2026-01-14 08:16:23,666 ERROR    18 The requested URL / was not found
2026-01-14 08:16:50,251 ERROR    18 The requested URL / was not found
2026-01-14 08:17:36,605 ERROR    18 The requested URL / was not found
2026-01-14 08:17:55,022 ERROR    18 The requested URL / was not found
2026-01-14 08:17:58,973 ERROR    18 The requested URL / was not found
2026-01-14 08:18:53,086 ERROR    18 update_progress exception
Traceback (most recent call last):
  File "/ragflow/.venv/lib/python3.12/site-packages/valkey/connection.py", line 1116, in get_connection
    if connection.can_read() and connection.client_cache is None:
       ^^^^^^^^^^^^^^^^^^^^^
  File "/ragflow/.venv/lib/python3.12/site-packages/valkey/connection.py", line 524, in can_read
    return self._parser.can_read(timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/ragflow/.venv/lib/python3.12/site-packages/valkey/_parsers/base.py", line 128, in can_read
    return self._buffer and self._buffer.can_read(timeout)
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/ragflow/.venv/lib/python3.12/site-packages/valkey/_parsers/socket.py", line 95, in can_read
    return bool(self.unread_bytes()) or self._read_from_socket(
                                        ^^^^^^^^^^^^^^^^^^^^^^^
  File "/ragflow/.venv/lib/python3.12/site-packages/valkey/_parsers/socket.py", line 68, in _read_from_socket
    raise ConnectionError(SERVER_CLOSED_CONNECTION_ERROR)
valkey.exceptions.ConnectionError: Connection closed by server.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/ragflow/.venv/lib/python3.12/site-packages/valkey/connection.py", line 302, in connect
    sock = self.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/ragflow/.venv/lib/python3.12/site-packages/valkey/retry.py", line 62, in call_with_retry
    return do()
           ^^^^
  File "/ragflow/.venv/lib/python3.12/site-packages/valkey/connection.py", line 303, in <lambda>
    lambda: self._connect(), lambda error: self.disconnect(error)
            ^^^^^^^^^^^^^^^
  File "/ragflow/.venv/lib/python3.12/site-packages/valkey/connection.py", line 728, in _connect
    raise err
  File "/ragflow/.venv/lib/python3.12/site-packages/valkey/connection.py", line 716, in _connect
    sock.connect(socket_address)
ConnectionRefusedError: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/ragflow/api/ragflow_server.py", line 55, in update_progress
    if redis_lock.acquire():
       ^^^^^^^^^^^^^^^^^^^^
  File "/ragflow/rag/utils/redis_conn.py", line 494, in acquire
    REDIS_CONN.delete_if_equal(self.lock_key, self.lock_value)
  File "/ragflow/rag/utils/redis_conn.py", line 468, in delete_if_equal
    return bool(self.lua_delete_if_equal(keys=[key], args=[expected_value], client=self.REDIS))
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/ragflow/.venv/lib/python3.12/site-packages/valkey/commands/core.py", line 6356, in __call__
    return client.evalsha(self.sha, len(keys), *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/ragflow/.venv/lib/python3.12/site-packages/valkey/commands/core.py", line 5730, in evalsha
    return self._evalsha("EVALSHA", sha, numkeys, *keys_and_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/ragflow/.venv/lib/python3.12/site-packages/valkey/commands/core.py", line 5714, in _evalsha
    return self.execute_command(command, sha, numkeys, *keys_and_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/ragflow/.venv/lib/python3.12/site-packages/valkey/client.py", line 564, in execute_command
    conn = self.connection or pool.get_connection(command_name, **options)
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/ragflow/.venv/lib/python3.12/site-packages/valkey/connection.py", line 1120, in get_connection
    connection.connect()
  File "/ragflow/.venv/lib/python3.12/site-packages/valkey/connection.py", line 308, in connect
    raise ConnectionError(self._error_message(e))
valkey.exceptions.ConnectionError: Error 111 connecting to redis:6379. Connection refused.
2026-01-14 08:18:53,154 ERROR    18 update_progress exception
Traceback (most recent call last):
  File "/ragflow/.venv/lib/python3.12/site-packages/valkey/connection.py", line 302, in connect
    sock = self.retry.call_with_retry(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/ragflow/.venv/lib/python3.12/site-packages/valkey/retry.py", line 62, in call_with_retry
    return do()
           ^^^^
  File "/ragflow/.venv/lib/python3.12/site-packages/valkey/connection.py", line 303, in <lambda>
    lambda: self._connect(), lambda error: self.disconnect(error)
            ^^^^^^^^^^^^^^^
  File "/ragflow/.venv/lib/python3.12/site-packages/valkey/connection.py", line 728, in _connect
    raise err
  File "/ragflow/.venv/lib/python3.12/site-packages/valkey/connection.py", line 716, in _connect
    sock.connect(socket_address)
ConnectionRefusedError: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/ragflow/api/ragflow_server.py", line 62, in update_progress
    redis_lock.release()
  File "/ragflow/rag/utils/redis_conn.py", line 505, in release
    REDIS_CONN.delete_if_equal(self.lock_key, self.lock_value)
  File "/ragflow/rag/utils/redis_conn.py", line 468, in delete_if_equal
    return bool(self.lua_delete_if_equal(keys=[key], args=[expected_value], client=self.REDIS))
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/ragflow/.venv/lib/python3.12/site-packages/valkey/commands/core.py", line 6356, in __call__
    return client.evalsha(self.sha, len(keys), *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/ragflow/.venv/lib/python3.12/site-packages/valkey/commands/core.py", line 5730, in evalsha
    return self._evalsha("EVALSHA", sha, numkeys, *keys_and_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/ragflow/.venv/lib/python3.12/site-packages/valkey/commands/core.py", line 5714, in _evalsha
    return self.execute_command(command, sha, numkeys, *keys_and_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/ragflow/.venv/lib/python3.12/site-packages/valkey/client.py", line 564, in execute_command
    conn = self.connection or pool.get_connection(command_name, **options)
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/ragflow/.venv/lib/python3.12/site-packages/valkey/connection.py", line 1107, in get_connection
    connection.connect()
  File "/ragflow/.venv/lib/python3.12/site-packages/valkey/connection.py", line 308, in connect
    raise ConnectionError(self._error_message(e))
valkey.exceptions.ConnectionError: Error 111 connecting to redis:6379. Connection refused.
2026-01-14 08:20:38,179 INFO     24 ragflow_server log path: /ragflow/logs/ragflow_server.log, log levels: {'peewee': 'WARNING', 'pdfminer': 'WARNING', 'root': 'INFO'}
2026-01-14 08:20:38,180 INFO     24 
        ____   ___    ______ ______ __
       / __ \ /   |  / ____// ____// /____  _      __
      / /_/ // /| | / / __ / /_   / // __ \| | /| / /
     / _, _// ___ |/ /_/ // __/  / // /_/ /| |/ |/ /
    /_/ |_|/_/  |_|\____//_/    /_/ \____/ |__/|__/

    
2026-01-14 08:20:38,181 INFO     24 RAGFlow version: v0.23.1
2026-01-14 08:20:38,182 INFO     24 project base: /ragflow
2026-01-14 08:20:38,183 INFO     24 Current configs, from /ragflow/conf/service_conf.yaml:
	ragflow: {'host': '0.0.0.0', 'http_port': 9380}
	admin: {'host': '0.0.0.0', 'http_port': 9381}
	mysql: {'name': 'rag_flow', 'user': 'root', 'password': '********', 'host': 'mysql', 'port': 3306, 'max_connections': 900, 'stale_timeout': 300, 'max_allowed_packet': 1073741824}
	minio: {'user': 'rag_flow', 'password': '********', 'host': 'minio:9000', 'bucket': '', 'prefix_path': ''}
	es: {'hosts': 'http://es01:9200', 'username': 'elastic', 'password': '********'}
	os: {'hosts': 'http://opensearch01:9201', 'username': 'admin', 'password': '********'}
	infinity: {'uri': 'infinity:23817', 'db_name': 'default_db'}
	oceanbase: {'scheme': 'oceanbase', 'config': {'db_name': 'ragflow_doc', 'user': 'root@ragflow', 'password': 'infini_rag_flow', 'host': 'oceanbase', 'port': 2881}}
	redis: {'db': 1, 'username': '', 'password': '********', 'host': 'redis:6379'}
	user_default_llm: {'default_models': {'embedding_model': {'api_key': 'xxx', 'base_url': 'http://tei:80'}}}
2026-01-14 08:20:38,185 WARNING  24 SECURITY WARNING: Using auto-generated SECRET_KEY.
2026-01-14 08:20:38,189 WARNING  24 Load term.freq FAIL!
2026-01-14 08:20:38,195 WARNING  24 Realtime synonym is disabled, since no redis connection.
2026-01-14 08:20:38,198 WARNING  24 Load term.freq FAIL!
2026-01-14 08:20:38,203 WARNING  24 Realtime synonym is disabled, since no redis connection.
2026-01-14 08:20:38,205 INFO     24 MAX_CONTENT_LENGTH: 134217728
2026-01-14 08:20:38,205 INFO     24 MAX_FILE_COUNT_PER_USER: 0
2026-01-14 08:20:46,285 INFO     24 Init message_id sequence done, current max id is 1.
2026-01-14 08:20:46,287 INFO     24 No memory found, no need to init memory size.
2026-01-14 08:20:46,288 INFO     24 init web data success:7.504313230514526
2026-01-14 08:20:46,289 INFO     24 Recursively importing plugins from path `/ragflow/plugin/embedded_plugins`
2026-01-14 08:20:46,291 INFO     24 Loaded llm_tools plugin BadCalculatorPlugin version 1.0.0
2026-01-14 08:20:46,293 INFO     24 RAGFlow HTTP server start...
2026-01-14 08:20:46,553 INFO     24 Running on http://0.0.0.0:9380 (CTRL + C to quit)
2026-01-14 08:20:47,293 INFO     24 Starting update_progress thread (delayed)
2026-01-14 08:20:47,295 INFO     24 update_progress lock_value: e5f12233-d28a-43cf-9c00-b65aee6e3088
2026-01-14 08:25:45,967 INFO     15 ragflow_server log path: /ragflow/logs/ragflow_server.log, log levels: {'peewee': 'WARNING', 'pdfminer': 'WARNING', 'root': 'INFO'}
2026-01-14 08:25:45,968 INFO     15 
        ____   ___    ______ ______ __
       / __ \ /   |  / ____// ____// /____  _      __
      / /_/ // /| | / / __ / /_   / // __ \| | /| / /
     / _, _// ___ |/ /_/ // __/  / // /_/ /| |/ |/ /
    /_/ |_|/_/  |_|\____//_/    /_/ \____/ |__/|__/

    
2026-01-14 08:25:45,969 INFO     15 RAGFlow version: v0.23.1
2026-01-14 08:25:45,970 INFO     15 project base: /ragflow
2026-01-14 08:25:45,971 INFO     15 Current configs, from /ragflow/conf/service_conf.yaml:
	ragflow: {'host': '0.0.0.0', 'http_port': 9380}
	admin: {'host': '0.0.0.0', 'http_port': 9381}
	mysql: {'name': 'rag_flow', 'user': 'root', 'password': '********', 'host': 'mysql', 'port': 3306, 'max_connections': 900, 'stale_timeout': 300, 'max_allowed_packet': 1073741824}
	minio: {'user': 'rag_flow', 'password': '********', 'host': 'minio:9000', 'bucket': '', 'prefix_path': ''}
	es: {'hosts': 'http://es01:9200', 'username': 'elastic', 'password': '********'}
	os: {'hosts': 'http://opensearch01:9201', 'username': 'admin', 'password': '********'}
	infinity: {'uri': 'infinity:23817', 'db_name': 'default_db'}
	oceanbase: {'scheme': 'oceanbase', 'config': {'db_name': 'ragflow_doc', 'user': 'root@ragflow', 'password': 'infini_rag_flow', 'host': 'oceanbase', 'port': 2881}}
	redis: {'db': 1, 'username': '', 'password': '********', 'host': 'redis:6379'}
	user_default_llm: {'default_models': {'embedding_model': {'api_key': 'xxx', 'base_url': 'http://tei:80'}}}
2026-01-14 08:25:45,973 WARNING  15 SECURITY WARNING: Using auto-generated SECRET_KEY.
2026-01-14 08:25:45,978 WARNING  15 Load term.freq FAIL!
2026-01-14 08:25:45,985 WARNING  15 Realtime synonym is disabled, since no redis connection.
2026-01-14 08:25:45,989 WARNING  15 Load term.freq FAIL!
2026-01-14 08:25:45,994 WARNING  15 Realtime synonym is disabled, since no redis connection.
2026-01-14 08:25:45,996 INFO     15 MAX_CONTENT_LENGTH: 134217728
2026-01-14 08:25:45,996 INFO     15 MAX_FILE_COUNT_PER_USER: 0
2026-01-14 08:25:53,450 INFO     15 No need to init message_id sequence, current max id is 1.
2026-01-14 08:25:53,454 INFO     15 No memory found, no need to init memory size.
2026-01-14 08:25:53,455 INFO     15 init web data success:6.919506072998047
2026-01-14 08:25:53,457 INFO     15 Recursively importing plugins from path `/ragflow/plugin/embedded_plugins`
2026-01-14 08:25:53,459 INFO     15 Loaded llm_tools plugin BadCalculatorPlugin version 1.0.0
2026-01-14 08:25:53,461 INFO     15 RAGFlow HTTP server start...
2026-01-14 08:25:53,838 INFO     15 Running on http://0.0.0.0:9380 (CTRL + C to quit)
2026-01-14 08:25:54,461 INFO     15 Starting update_progress thread (delayed)
2026-01-14 08:25:54,462 INFO     15 update_progress lock_value: e17533c0-8ccc-4e13-8eda-ef2a96cf2bc6
2026-01-18 00:54:51,185 INFO     16 ragflow_server log path: /ragflow/logs/ragflow_server.log, log levels: {'peewee': 'WARNING', 'pdfminer': 'WARNING', 'root': 'INFO'}
2026-01-18 00:54:51,186 INFO     16 
        ____   ___    ______ ______ __
       / __ \ /   |  / ____// ____// /____  _      __
      / /_/ // /| | / / __ / /_   / // __ \| | /| / /
     / _, _// ___ |/ /_/ // __/  / // /_/ /| |/ |/ /
    /_/ |_|/_/  |_|\____//_/    /_/ \____/ |__/|__/

    
2026-01-18 00:54:51,187 INFO     16 RAGFlow version: v0.23.1
2026-01-18 00:54:51,187 INFO     16 project base: /ragflow
2026-01-18 00:54:51,188 INFO     16 Current configs, from /ragflow/conf/service_conf.yaml:
	ragflow: {'host': '0.0.0.0', 'http_port': 9380}
	admin: {'host': '0.0.0.0', 'http_port': 9381}
	mysql: {'name': 'rag_flow', 'user': 'root', 'password': '********', 'host': 'mysql', 'port': 3306, 'max_connections': 900, 'stale_timeout': 300, 'max_allowed_packet': 1073741824}
	minio: {'user': 'rag_flow', 'password': '********', 'host': 'minio:9000', 'bucket': '', 'prefix_path': ''}
	es: {'hosts': 'http://es01:9200', 'username': 'elastic', 'password': '********'}
	os: {'hosts': 'http://opensearch01:9201', 'username': 'admin', 'password': '********'}
	infinity: {'uri': 'infinity:23817', 'db_name': 'default_db'}
	oceanbase: {'scheme': 'oceanbase', 'config': {'db_name': 'ragflow_doc', 'user': 'root@ragflow', 'password': 'infini_rag_flow', 'host': 'oceanbase', 'port': 2881}}
	redis: {'db': 1, 'username': '', 'password': '********', 'host': 'redis:6379'}
	user_default_llm: {'default_models': {'embedding_model': {'api_key': 'xxx', 'base_url': 'http://tei:80'}}}
2026-01-18 00:54:51,190 WARNING  16 SECURITY WARNING: Using auto-generated SECRET_KEY.
2026-01-18 00:54:51,194 WARNING  16 Load term.freq FAIL!
2026-01-18 00:54:51,201 WARNING  16 Realtime synonym is disabled, since no redis connection.
2026-01-18 00:54:51,205 WARNING  16 Load term.freq FAIL!
2026-01-18 00:54:51,210 WARNING  16 Realtime synonym is disabled, since no redis connection.
2026-01-18 00:54:51,212 INFO     16 MAX_CONTENT_LENGTH: 134217728
2026-01-18 00:54:51,213 INFO     16 MAX_FILE_COUNT_PER_USER: 0
2026-01-18 00:54:58,416 INFO     16 Init message_id sequence done, current max id is 1.
2026-01-18 00:54:58,418 INFO     16 No memory found, no need to init memory size.
2026-01-18 00:54:58,419 INFO     16 init web data success:6.623716592788696
2026-01-18 00:54:58,420 INFO     16 Recursively importing plugins from path `/ragflow/plugin/embedded_plugins`
2026-01-18 00:54:58,422 INFO     16 Loaded llm_tools plugin BadCalculatorPlugin version 1.0.0
2026-01-18 00:54:58,424 INFO     16 RAGFlow HTTP server start...
2026-01-18 00:54:58,686 INFO     16 Running on http://0.0.0.0:9380 (CTRL + C to quit)
2026-01-18 00:54:59,424 INFO     16 Starting update_progress thread (delayed)
2026-01-18 00:54:59,426 INFO     16 update_progress lock_value: 1b4dcd14-18ac-4d6c-898f-86ebbdedab2a
2026-01-18 01:43:15,435 INFO     18 ragflow_server log path: /ragflow/logs/ragflow_server.log, log levels: {'peewee': 'WARNING', 'pdfminer': 'WARNING', 'root': 'INFO'}
2026-01-18 01:43:15,436 INFO     18 
        ____   ___    ______ ______ __
       / __ \ /   |  / ____// ____// /____  _      __
      / /_/ // /| | / / __ / /_   / // __ \| | /| / /
     / _, _// ___ |/ /_/ // __/  / // /_/ /| |/ |/ /
    /_/ |_|/_/  |_|\____//_/    /_/ \____/ |__/|__/

    
2026-01-18 01:43:15,437 INFO     18 RAGFlow version: v0.23.1
2026-01-18 01:43:15,439 INFO     18 project base: /ragflow
2026-01-18 01:43:15,441 INFO     18 Current configs, from /ragflow/conf/service_conf.yaml:
	ragflow: {'host': '0.0.0.0', 'http_port': 9380}
	admin: {'host': '0.0.0.0', 'http_port': 9381}
	mysql: {'name': 'rag_flow', 'user': 'root', 'password': '********', 'host': 'mysql', 'port': 3306, 'max_connections': 900, 'stale_timeout': 300, 'max_allowed_packet': 1073741824}
	minio: {'user': 'rag_flow', 'password': '********', 'host': 'minio:9000', 'bucket': '', 'prefix_path': ''}
	es: {'hosts': 'http://es01:9200', 'username': 'elastic', 'password': '********'}
	os: {'hosts': 'http://opensearch01:9201', 'username': 'admin', 'password': '********'}
	infinity: {'uri': 'infinity:23817', 'db_name': 'default_db'}
	oceanbase: {'scheme': 'oceanbase', 'config': {'db_name': 'ragflow_doc', 'user': 'root@ragflow', 'password': 'infini_rag_flow', 'host': 'oceanbase', 'port': 2881}}
	redis: {'db': 1, 'username': '', 'password': '********', 'host': 'redis:6379'}
	user_default_llm: {'default_models': {'embedding_model': {'api_key': 'xxx', 'base_url': 'http://tei:80'}}}
2026-01-18 01:43:15,444 WARNING  18 SECURITY WARNING: Using auto-generated SECRET_KEY.
2026-01-18 01:43:15,449 WARNING  18 Load term.freq FAIL!
2026-01-18 01:43:15,457 WARNING  18 Realtime synonym is disabled, since no redis connection.
2026-01-18 01:43:15,461 WARNING  18 Load term.freq FAIL!
2026-01-18 01:43:15,468 WARNING  18 Realtime synonym is disabled, since no redis connection.
2026-01-18 01:43:15,470 INFO     18 MAX_CONTENT_LENGTH: 134217728
2026-01-18 01:43:15,471 INFO     18 MAX_FILE_COUNT_PER_USER: 0
2026-01-18 01:43:34,983 INFO     18 Init message_id sequence done, current max id is 1.
2026-01-18 01:43:34,985 INFO     18 No memory found, no need to init memory size.
2026-01-18 01:43:34,986 INFO     18 init web data success:6.869725227355957
2026-01-18 01:43:34,988 INFO     18 Recursively importing plugins from path `/ragflow/plugin/embedded_plugins`
2026-01-18 01:43:34,990 INFO     18 Loaded llm_tools plugin BadCalculatorPlugin version 1.0.0
2026-01-18 01:43:34,992 INFO     18 RAGFlow HTTP server start...
2026-01-18 01:43:35,296 INFO     18 Running on http://0.0.0.0:9380 (CTRL + C to quit)
2026-01-18 01:43:35,992 INFO     18 Starting update_progress thread (delayed)
2026-01-18 01:43:35,993 INFO     18 update_progress lock_value: 0d466482-1f08-48ec-a163-aec2846dc1d0
2026-01-18 01:45:08,729 INFO     17 ragflow_server log path: /ragflow/logs/ragflow_server.log, log levels: {'peewee': 'WARNING', 'pdfminer': 'WARNING', 'root': 'INFO'}
2026-01-18 01:45:08,730 INFO     17 
        ____   ___    ______ ______ __
       / __ \ /   |  / ____// ____// /____  _      __
      / /_/ // /| | / / __ / /_   / // __ \| | /| / /
     / _, _// ___ |/ /_/ // __/  / // /_/ /| |/ |/ /
    /_/ |_|/_/  |_|\____//_/    /_/ \____/ |__/|__/

    
2026-01-18 01:45:08,731 INFO     17 RAGFlow version: v0.23.1
2026-01-18 01:45:08,731 INFO     17 project base: /ragflow
2026-01-18 01:45:08,732 INFO     17 Current configs, from /ragflow/conf/service_conf.yaml:
	ragflow: {'host': '0.0.0.0', 'http_port': 9380}
	admin: {'host': '0.0.0.0', 'http_port': 9381}
	mysql: {'name': 'rag_flow', 'user': 'root', 'password': '********', 'host': 'mysql', 'port': 3306, 'max_connections': 900, 'stale_timeout': 300, 'max_allowed_packet': 1073741824}
	minio: {'user': 'rag_flow', 'password': '********', 'host': 'minio:9000', 'bucket': '', 'prefix_path': ''}
	es: {'hosts': 'http://es01:9200', 'username': 'elastic', 'password': '********'}
	os: {'hosts': 'http://opensearch01:9201', 'username': 'admin', 'password': '********'}
	infinity: {'uri': 'infinity:23817', 'db_name': 'default_db'}
	oceanbase: {'scheme': 'oceanbase', 'config': {'db_name': 'ragflow_doc', 'user': 'root@ragflow', 'password': 'infini_rag_flow', 'host': 'oceanbase', 'port': 2881}}
	redis: {'db': 1, 'username': '', 'password': '********', 'host': 'redis:6379'}
	user_default_llm: {'default_models': {'embedding_model': {'api_key': 'xxx', 'base_url': 'http://tei:80'}}}
2026-01-18 01:45:08,734 WARNING  17 SECURITY WARNING: Using auto-generated SECRET_KEY.
2026-01-18 01:45:08,738 WARNING  17 Load term.freq FAIL!
2026-01-18 01:45:08,745 WARNING  17 Realtime synonym is disabled, since no redis connection.
2026-01-18 01:45:08,749 WARNING  17 Load term.freq FAIL!
2026-01-18 01:45:08,754 WARNING  17 Realtime synonym is disabled, since no redis connection.
2026-01-18 01:45:08,756 INFO     17 MAX_CONTENT_LENGTH: 134217728
2026-01-18 01:45:08,757 INFO     17 MAX_FILE_COUNT_PER_USER: 0
2026-01-18 01:45:16,799 INFO     17 No need to init message_id sequence, current max id is 1.
2026-01-18 01:45:16,804 INFO     17 No memory found, no need to init memory size.
2026-01-18 01:45:16,806 INFO     17 init web data success:7.517308950424194
2026-01-18 01:45:16,808 INFO     17 Recursively importing plugins from path `/ragflow/plugin/embedded_plugins`
2026-01-18 01:45:16,811 INFO     17 Loaded llm_tools plugin BadCalculatorPlugin version 1.0.0
2026-01-18 01:45:16,814 INFO     17 RAGFlow HTTP server start...
2026-01-18 01:45:17,180 INFO     17 Running on http://0.0.0.0:9380 (CTRL + C to quit)
2026-01-18 01:45:17,814 INFO     17 Starting update_progress thread (delayed)
2026-01-18 01:45:17,815 INFO     17 update_progress lock_value: fcdaef81-3bff-44c4-8453-e2a741ba111b
2026-01-18 03:32:33,008 INFO     15 ragflow_server log path: /ragflow/logs/ragflow_server.log, log levels: {'peewee': 'WARNING', 'pdfminer': 'WARNING', 'root': 'INFO'}
2026-01-18 03:32:33,009 INFO     15 
        ____   ___    ______ ______ __
       / __ \ /   |  / ____// ____// /____  _      __
      / /_/ // /| | / / __ / /_   / // __ \| | /| / /
     / _, _// ___ |/ /_/ // __/  / // /_/ /| |/ |/ /
    /_/ |_|/_/  |_|\____//_/    /_/ \____/ |__/|__/

    
2026-01-18 03:32:33,010 INFO     15 RAGFlow version: v0.23.1
2026-01-18 03:32:33,011 INFO     15 project base: /ragflow
2026-01-18 03:32:33,012 INFO     15 Current configs, from /ragflow/conf/service_conf.yaml:
	ragflow: {'host': '0.0.0.0', 'http_port': 9380}
	admin: {'host': '0.0.0.0', 'http_port': 9381}
	mysql: {'name': 'rag_flow', 'user': 'root', 'password': '********', 'host': 'mysql', 'port': 3306, 'max_connections': 900, 'stale_timeout': 300, 'max_allowed_packet': 1073741824}
	minio: {'user': 'rag_flow', 'password': '********', 'host': 'minio:9000', 'bucket': '', 'prefix_path': ''}
	es: {'hosts': 'http://es01:9200', 'username': 'elastic', 'password': '********'}
	os: {'hosts': 'http://opensearch01:9201', 'username': 'admin', 'password': '********'}
	infinity: {'uri': 'infinity:23817', 'db_name': 'default_db'}
	oceanbase: {'scheme': 'oceanbase', 'config': {'db_name': 'ragflow_doc', 'user': 'root@ragflow', 'password': 'infini_rag_flow', 'host': 'oceanbase', 'port': 2881}}
	redis: {'db': 1, 'username': '', 'password': '********', 'host': 'redis:6379'}
	user_default_llm: {'default_models': {'embedding_model': {'api_key': 'xxx', 'base_url': 'http://tei:80'}}}
2026-01-18 03:32:33,014 WARNING  15 SECURITY WARNING: Using auto-generated SECRET_KEY.
2026-01-18 03:32:33,021 WARNING  15 Load term.freq FAIL!
2026-01-18 03:32:33,030 WARNING  15 Realtime synonym is disabled, since no redis connection.
2026-01-18 03:32:33,035 WARNING  15 Load term.freq FAIL!
2026-01-18 03:32:33,041 WARNING  15 Realtime synonym is disabled, since no redis connection.
2026-01-18 03:32:33,042 INFO     15 MAX_CONTENT_LENGTH: 134217728
2026-01-18 03:32:33,043 INFO     15 MAX_FILE_COUNT_PER_USER: 0
2026-01-18 03:32:52,730 INFO     15 Init message_id sequence done, current max id is 1.
2026-01-18 03:32:52,733 INFO     15 No memory found, no need to init memory size.
2026-01-18 03:32:52,735 INFO     15 init web data success:6.916506767272949
2026-01-18 03:32:52,737 INFO     15 Recursively importing plugins from path `/ragflow/plugin/embedded_plugins`
2026-01-18 03:32:52,738 INFO     15 Loaded llm_tools plugin BadCalculatorPlugin version 1.0.0
2026-01-18 03:32:52,740 INFO     15 RAGFlow HTTP server start...
2026-01-18 03:32:53,037 INFO     15 Running on http://0.0.0.0:9380 (CTRL + C to quit)
2026-01-18 03:32:53,740 INFO     15 Starting update_progress thread (delayed)
2026-01-18 03:32:53,742 INFO     15 update_progress lock_value: 05831671-7fb0-453c-9eff-53444b4b7178
2026-01-18 03:33:07,691 ERROR    15 The requested URL /api/v1/search was not found
2026-01-18 03:33:08,610 ERROR    15 The requested URL /api/v1/search was not found
2026-01-18 03:33:21,822 ERROR    15 The requested URL /api/v1/search was not found
2026-01-18 03:33:22,736 ERROR    15 The requested URL /api/v1/search was not found
2026-01-18 03:39:03,509 INFO     20 ragflow_server log path: /ragflow/logs/ragflow_server.log, log levels: {'peewee': 'WARNING', 'pdfminer': 'WARNING', 'root': 'INFO'}
2026-01-18 03:39:03,510 INFO     20 
        ____   ___    ______ ______ __
       / __ \ /   |  / ____// ____// /____  _      __
      / /_/ // /| | / / __ / /_   / // __ \| | /| / /
     / _, _// ___ |/ /_/ // __/  / // /_/ /| |/ |/ /
    /_/ |_|/_/  |_|\____//_/    /_/ \____/ |__/|__/

    
2026-01-18 03:39:03,511 INFO     20 RAGFlow version: v0.23.1
2026-01-18 03:39:03,512 INFO     20 project base: /ragflow
2026-01-18 03:39:03,513 INFO     20 Current configs, from /ragflow/conf/service_conf.yaml:
	ragflow: {'host': '0.0.0.0', 'http_port': 9380}
	admin: {'host': '0.0.0.0', 'http_port': 9381}
	mysql: {'name': 'rag_flow', 'user': 'root', 'password': '********', 'host': 'mysql', 'port': 3306, 'max_connections': 900, 'stale_timeout': 300, 'max_allowed_packet': 1073741824}
	minio: {'user': 'rag_flow', 'password': '********', 'host': 'minio:9000', 'bucket': '', 'prefix_path': ''}
	es: {'hosts': 'http://es01:9200', 'username': 'elastic', 'password': '********'}
	os: {'hosts': 'http://opensearch01:9201', 'username': 'admin', 'password': '********'}
	infinity: {'uri': 'infinity:23817', 'db_name': 'default_db'}
	oceanbase: {'scheme': 'oceanbase', 'config': {'db_name': 'ragflow_doc', 'user': 'root@ragflow', 'password': 'infini_rag_flow', 'host': 'oceanbase', 'port': 2881}}
	redis: {'db': 1, 'username': '', 'password': '********', 'host': 'redis:6379'}
	user_default_llm: {'default_models': {'embedding_model': {'api_key': 'xxx', 'base_url': 'http://tei:80'}}}
2026-01-18 03:39:03,515 WARNING  20 SECURITY WARNING: Using auto-generated SECRET_KEY.
2026-01-18 03:39:03,518 WARNING  20 Load term.freq FAIL!
2026-01-18 03:39:03,525 WARNING  20 Realtime synonym is disabled, since no redis connection.
2026-01-18 03:39:03,529 WARNING  20 Load term.freq FAIL!
2026-01-18 03:39:03,535 WARNING  20 Realtime synonym is disabled, since no redis connection.
2026-01-18 03:39:03,536 INFO     20 MAX_CONTENT_LENGTH: 134217728
2026-01-18 03:39:03,537 INFO     20 MAX_FILE_COUNT_PER_USER: 0
2026-01-18 03:39:10,784 INFO     20 No need to init message_id sequence, current max id is 1.
2026-01-18 03:39:10,787 INFO     20 No memory found, no need to init memory size.
2026-01-18 03:39:10,788 INFO     20 init web data success:6.729252338409424
2026-01-18 03:39:10,790 INFO     20 Recursively importing plugins from path `/ragflow/plugin/embedded_plugins`
2026-01-18 03:39:10,792 INFO     20 Loaded llm_tools plugin BadCalculatorPlugin version 1.0.0
2026-01-18 03:39:10,793 INFO     20 RAGFlow HTTP server start...
2026-01-18 03:39:11,074 INFO     20 Running on http://0.0.0.0:9380 (CTRL + C to quit)
2026-01-18 03:39:11,793 INFO     20 Starting update_progress thread (delayed)
2026-01-18 03:39:11,795 INFO     20 update_progress lock_value: 48443448-ac70-4f09-bce3-ead7bd82546f
2026-01-18 03:43:04,232 ERROR    20 The requested URL /api/v1/search was not found
2026-01-18 03:43:05,142 ERROR    20 The requested URL /api/v1/search was not found
2026-01-18 03:43:35,017 ERROR    20 The requested URL /api/v1/search was not found
2026-01-18 03:43:35,926 ERROR    20 The requested URL /api/v1/search was not found
2026-01-18 03:47:46,103 ERROR    20 The requested URL /api/v1/search was not found
2026-01-18 03:47:47,014 ERROR    20 The requested URL /api/v1/search was not found
2026-01-18 04:07:14,490 ERROR    20 The requested URL /api/v1/search was not found
2026-01-18 04:07:15,401 ERROR    20 The requested URL /api/v1/search was not found
2026-01-18 04:08:37,947 ERROR    20 The requested URL /api/v1/search was not found
2026-01-18 04:08:38,859 ERROR    20 The requested URL /api/v1/search was not found
2026-01-18 04:37:54,089 ERROR    20 The requested URL /api/v1/search was not found
2026-01-18 04:37:55,003 ERROR    20 The requested URL /api/v1/search was not found
2026-01-18 04:55:50,012 ERROR    20 The requested URL /api/v1/search was not found
2026-01-18 04:55:50,923 ERROR    20 The requested URL /api/v1/search was not found
2026-01-18 04:58:12,157 ERROR    20 The requested URL /api/v1/search was not found
2026-01-18 04:58:13,066 ERROR    20 The requested URL /api/v1/search was not found
2026-01-18 05:02:39,534 ERROR    20 update_progress exception
Traceback (most recent call last):
  File "/ragflow/.venv/lib/python3.12/site-packages/pymysql/connections.py", line 661, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/socket.py", line 852, in create_connection
    raise exceptions[0]
  File "/usr/lib/python3.12/socket.py", line 837, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [Errno 111] Connection refused

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/ragflow/.venv/lib/python3.12/site-packages/peewee.py", line 3232, in connect
    self._state.set_connection(self._connect())
                               ^^^^^^^^^^^^^^^
  File "/ragflow/.venv/lib/python3.12/site-packages/playhouse/pool.py", line 76, in inner
    return fn(self, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/ragflow/.venv/lib/python3.12/site-packages/playhouse/pool.py", line 169, in _connect
    conn = super(PooledDatabase, self)._connect()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/ragflow/.venv/lib/python3.12/site-packages/peewee.py", line 4201, in _connect
    conn = mysql.connect(db=self.database, autocommit=True,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/ragflow/.venv/lib/python3.12/site-packages/pymysql/connections.py", line 365, in __init__
    self.connect()
  File "/ragflow/.venv/lib/python3.12/site-packages/pymysql/connections.py", line 723, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'mysql' ([Errno 111] Connection refused)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/ragflow/api/ragflow_server.py", line 56, in update_progress
    DocumentService.update_progress()
  File "/ragflow/.venv/lib/python3.12/site-packages/peewee.py", line 3127, in inner
    with ConnectionContext(self.db):
  File "/ragflow/.venv/lib/python3.12/site-packages/peewee.py", line 3122, in __enter__
    self.db.connect()
  File "/ragflow/.venv/lib/python3.12/site-packages/playhouse/pool.py", line 121, in connect
    return super(PooledDatabase, self).connect(reuse_if_open)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/ragflow/.venv/lib/python3.12/site-packages/peewee.py", line 3231, in connect
    with __exception_wrapper__:
  File "/ragflow/.venv/lib/python3.12/site-packages/peewee.py", line 3059, in __exit__
    reraise(new_type, new_type(exc_value, *exc_args), traceback)
  File "/ragflow/.venv/lib/python3.12/site-packages/peewee.py", line 192, in reraise
    raise value.with_traceback(tb)
  File "/ragflow/.venv/lib/python3.12/site-packages/peewee.py", line 3232, in connect
    self._state.set_connection(self._connect())
                               ^^^^^^^^^^^^^^^
  File "/ragflow/.venv/lib/python3.12/site-packages/playhouse/pool.py", line 76, in inner
    return fn(self, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/ragflow/.venv/lib/python3.12/site-packages/playhouse/pool.py", line 169, in _connect
    conn = super(PooledDatabase, self)._connect()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/ragflow/.venv/lib/python3.12/site-packages/peewee.py", line 4201, in _connect
    conn = mysql.connect(db=self.database, autocommit=True,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/ragflow/.venv/lib/python3.12/site-packages/pymysql/connections.py", line 365, in __init__
    self.connect()
  File "/ragflow/.venv/lib/python3.12/site-packages/pymysql/connections.py", line 723, in connect
    raise exc
peewee.OperationalError: (2003, "Can't connect to MySQL server on 'mysql' ([Errno 111] Connection refused)")
2026-01-18 05:11:58,132 ERROR    20 The requested URL /api/v1/search was not found
2026-01-18 05:11:59,042 ERROR    20 The requested URL /api/v1/search was not found
2026-01-18 20:22:20,300 INFO     24 ragflow_server log path: /ragflow/logs/ragflow_server.log, log levels: {'peewee': 'WARNING', 'pdfminer': 'WARNING', 'root': 'INFO'}
2026-01-18 20:22:20,301 INFO     24 
        ____   ___    ______ ______ __
       / __ \ /   |  / ____// ____// /____  _      __
      / /_/ // /| | / / __ / /_   / // __ \| | /| / /
     / _, _// ___ |/ /_/ // __/  / // /_/ /| |/ |/ /
    /_/ |_|/_/  |_|\____//_/    /_/ \____/ |__/|__/

    
2026-01-18 20:22:20,302 INFO     24 RAGFlow version: v0.23.1
2026-01-18 20:22:20,303 INFO     24 project base: /ragflow
2026-01-18 20:22:20,304 INFO     24 Current configs, from /ragflow/conf/service_conf.yaml:
	ragflow: {'host': '0.0.0.0', 'http_port': 9380}
	admin: {'host': '0.0.0.0', 'http_port': 9381}
	mysql: {'name': 'rag_flow', 'user': 'root', 'password': '********', 'host': 'mysql', 'port': 3306, 'max_connections': 900, 'stale_timeout': 300, 'max_allowed_packet': 1073741824}
	minio: {'user': 'rag_flow', 'password': '********', 'host': 'minio:9000', 'bucket': '', 'prefix_path': ''}
	es: {'hosts': 'http://es01:9200', 'username': 'elastic', 'password': '********'}
	os: {'hosts': 'http://opensearch01:9201', 'username': 'admin', 'password': '********'}
	infinity: {'uri': 'infinity:23817', 'db_name': 'default_db'}
	oceanbase: {'scheme': 'oceanbase', 'config': {'db_name': 'ragflow_doc', 'user': 'root@ragflow', 'password': 'infini_rag_flow', 'host': 'oceanbase', 'port': 2881}}
	redis: {'db': 1, 'username': '', 'password': '********', 'host': 'redis:6379'}
	user_default_llm: {'default_models': {'embedding_model': {'api_key': 'xxx', 'base_url': 'http://tei:80'}}}
2026-01-18 20:22:20,306 WARNING  24 SECURITY WARNING: Using auto-generated SECRET_KEY.
2026-01-18 20:22:20,310 WARNING  24 Load term.freq FAIL!
2026-01-18 20:22:20,317 WARNING  24 Realtime synonym is disabled, since no redis connection.
2026-01-18 20:22:20,321 WARNING  24 Load term.freq FAIL!
2026-01-18 20:22:20,327 WARNING  24 Realtime synonym is disabled, since no redis connection.
2026-01-18 20:22:20,328 INFO     24 MAX_CONTENT_LENGTH: 134217728
2026-01-18 20:22:20,329 INFO     24 MAX_FILE_COUNT_PER_USER: 0
2026-01-18 20:22:27,422 INFO     24 Init message_id sequence done, current max id is 1.
2026-01-18 20:22:27,424 INFO     24 No memory found, no need to init memory size.
2026-01-18 20:22:27,425 INFO     24 init web data success:6.620162725448608
2026-01-18 20:22:27,426 INFO     24 Recursively importing plugins from path `/ragflow/plugin/embedded_plugins`
2026-01-18 20:22:27,428 INFO     24 Loaded llm_tools plugin BadCalculatorPlugin version 1.0.0
2026-01-18 20:22:27,429 INFO     24 RAGFlow HTTP server start...
2026-01-18 20:22:27,695 INFO     24 Running on http://0.0.0.0:9380 (CTRL + C to quit)
2026-01-18 20:22:28,430 INFO     24 Starting update_progress thread (delayed)
2026-01-18 20:22:28,431 INFO     24 update_progress lock_value: c15ce07d-d1f1-4e67-b952-2dee89718f47
2026-01-18 20:55:50,643 ERROR    24 The requested URL /api/v1/search was not found
2026-01-18 20:55:51,570 ERROR    24 The requested URL /api/v1/search was not found
2026-01-18 20:56:31,782 ERROR    24 The requested URL /api/v1/search was not found
2026-01-18 20:56:32,696 ERROR    24 The requested URL /api/v1/search was not found
2026-01-18 21:22:56,066 ERROR    24 The requested URL /api/v1/search was not found
2026-01-18 21:22:56,996 ERROR    24 The requested URL /api/v1/search was not found
2026-01-18 21:40:59,149 ERROR    24 The requested URL /api/v1/search was not found
2026-01-18 21:41:00,071 ERROR    24 The requested URL /api/v1/search was not found
2026-01-19 07:49:49,486 INFO     19 ragflow_server log path: /ragflow/logs/ragflow_server.log, log levels: {'peewee': 'WARNING', 'pdfminer': 'WARNING', 'root': 'INFO'}
2026-01-19 07:49:49,487 INFO     19 
        ____   ___    ______ ______ __
       / __ \ /   |  / ____// ____// /____  _      __
      / /_/ // /| | / / __ / /_   / // __ \| | /| / /
     / _, _// ___ |/ /_/ // __/  / // /_/ /| |/ |/ /
    /_/ |_|/_/  |_|\____//_/    /_/ \____/ |__/|__/

    
2026-01-19 07:49:49,488 INFO     19 RAGFlow version: v0.23.1
2026-01-19 07:49:49,488 INFO     19 project base: /ragflow
2026-01-19 07:49:49,489 INFO     19 Current configs, from /ragflow/conf/service_conf.yaml:
	ragflow: {'host': '0.0.0.0', 'http_port': 9380}
	admin: {'host': '0.0.0.0', 'http_port': 9381}
	mysql: {'name': 'rag_flow', 'user': 'root', 'password': '********', 'host': 'mysql', 'port': 3306, 'max_connections': 900, 'stale_timeout': 300, 'max_allowed_packet': 1073741824}
	minio: {'user': 'rag_flow', 'password': '********', 'host': 'minio:9000', 'bucket': '', 'prefix_path': ''}
	es: {'hosts': 'http://es01:9200', 'username': 'elastic', 'password': '********'}
	os: {'hosts': 'http://opensearch01:9201', 'username': 'admin', 'password': '********'}
	infinity: {'uri': 'infinity:23817', 'db_name': 'default_db'}
	oceanbase: {'scheme': 'oceanbase', 'config': {'db_name': 'ragflow_doc', 'user': 'root@ragflow', 'password': 'infini_rag_flow', 'host': 'oceanbase', 'port': 2881}}
	redis: {'db': 1, 'username': '', 'password': '********', 'host': 'redis:6379'}
	user_default_llm: {'default_models': {'embedding_model': {'api_key': 'xxx', 'base_url': 'http://tei:80'}}}
2026-01-19 07:49:49,491 WARNING  19 SECURITY WARNING: Using auto-generated SECRET_KEY.
2026-01-19 07:49:49,496 WARNING  19 Load term.freq FAIL!
2026-01-19 07:49:49,503 WARNING  19 Realtime synonym is disabled, since no redis connection.
2026-01-19 07:49:49,507 WARNING  19 Load term.freq FAIL!
2026-01-19 07:49:49,513 WARNING  19 Realtime synonym is disabled, since no redis connection.
2026-01-19 07:49:49,515 INFO     19 MAX_CONTENT_LENGTH: 134217728
2026-01-19 07:49:49,516 INFO     19 MAX_FILE_COUNT_PER_USER: 0
2026-01-19 07:49:56,592 INFO     19 Init message_id sequence done, current max id is 1.
2026-01-19 07:49:56,594 INFO     19 No memory found, no need to init memory size.
2026-01-19 07:49:56,594 INFO     19 init web data success:6.525514841079712
2026-01-19 07:49:56,596 INFO     19 Recursively importing plugins from path `/ragflow/plugin/embedded_plugins`
2026-01-19 07:49:56,597 INFO     19 Loaded llm_tools plugin BadCalculatorPlugin version 1.0.0
2026-01-19 07:49:56,599 INFO     19 RAGFlow HTTP server start...
2026-01-19 07:49:56,923 INFO     19 Running on http://0.0.0.0:9380 (CTRL + C to quit)
2026-01-19 07:49:57,599 INFO     19 Starting update_progress thread (delayed)
2026-01-19 07:49:57,600 INFO     19 update_progress lock_value: 44411112-fd75-43a5-b2fa-528632a85e15
2026-01-19 07:59:55,760 ERROR    19 The requested URL /api/v1/search was not found
2026-01-19 07:59:56,669 ERROR    19 The requested URL /api/v1/search was not found
2026-01-19 08:05:05,534 ERROR    19 The requested URL /api/v1/search was not found
2026-01-19 08:05:06,443 ERROR    19 The requested URL /api/v1/search was not found
2026-01-20 04:31:16,075 INFO     20 ragflow_server log path: /ragflow/logs/ragflow_server.log, log levels: {'peewee': 'WARNING', 'pdfminer': 'WARNING', 'root': 'INFO'}
2026-01-20 04:31:16,076 INFO     20 
        ____   ___    ______ ______ __
       / __ \ /   |  / ____// ____// /____  _      __
      / /_/ // /| | / / __ / /_   / // __ \| | /| / /
     / _, _// ___ |/ /_/ // __/  / // /_/ /| |/ |/ /
    /_/ |_|/_/  |_|\____//_/    /_/ \____/ |__/|__/

    
2026-01-20 04:31:16,076 INFO     20 RAGFlow version: v0.23.1
2026-01-20 04:31:16,077 INFO     20 project base: /ragflow
2026-01-20 04:31:16,078 INFO     20 Current configs, from /ragflow/conf/service_conf.yaml:
	ragflow: {'host': '0.0.0.0', 'http_port': 9380}
	admin: {'host': '0.0.0.0', 'http_port': 9381}
	mysql: {'name': 'rag_flow', 'user': 'root', 'password': '********', 'host': 'mysql', 'port': 3306, 'max_connections': 900, 'stale_timeout': 300, 'max_allowed_packet': 1073741824}
	minio: {'user': 'rag_flow', 'password': '********', 'host': 'minio:9000', 'bucket': '', 'prefix_path': ''}
	es: {'hosts': 'http://es01:9200', 'username': 'elastic', 'password': '********'}
	os: {'hosts': 'http://opensearch01:9201', 'username': 'admin', 'password': '********'}
	infinity: {'uri': 'infinity:23817', 'db_name': 'default_db'}
	oceanbase: {'scheme': 'oceanbase', 'config': {'db_name': 'ragflow_doc', 'user': 'root@ragflow', 'password': 'infini_rag_flow', 'host': 'oceanbase', 'port': 2881}}
	redis: {'db': 1, 'username': '', 'password': '********', 'host': 'redis:6379'}
	user_default_llm: {'default_models': {'embedding_model': {'api_key': 'xxx', 'base_url': 'http://tei:80'}}}
2026-01-20 04:31:16,080 WARNING  20 SECURITY WARNING: Using auto-generated SECRET_KEY.
2026-01-20 04:31:16,083 WARNING  20 Load term.freq FAIL!
2026-01-20 04:31:16,089 WARNING  20 Realtime synonym is disabled, since no redis connection.
2026-01-20 04:31:16,093 WARNING  20 Load term.freq FAIL!
2026-01-20 04:31:16,098 WARNING  20 Realtime synonym is disabled, since no redis connection.
2026-01-20 04:31:16,099 INFO     20 MAX_CONTENT_LENGTH: 134217728
2026-01-20 04:31:16,100 INFO     20 MAX_FILE_COUNT_PER_USER: 0
2026-01-20 04:31:22,605 INFO     20 Init message_id sequence done, current max id is 1.
2026-01-20 04:31:22,606 INFO     20 No memory found, no need to init memory size.
2026-01-20 04:31:22,607 INFO     20 init web data success:5.948369026184082
2026-01-20 04:31:22,608 INFO     20 Recursively importing plugins from path `/ragflow/plugin/embedded_plugins`
2026-01-20 04:31:22,610 INFO     20 Loaded llm_tools plugin BadCalculatorPlugin version 1.0.0
2026-01-20 04:31:22,611 INFO     20 RAGFlow HTTP server start...
2026-01-20 04:31:22,850 INFO     20 Running on http://0.0.0.0:9380 (CTRL + C to quit)
2026-01-20 04:31:23,611 INFO     20 Starting update_progress thread (delayed)
2026-01-20 04:31:23,613 INFO     20 update_progress lock_value: 1d781206-345a-4c76-b24d-610b8be9a2d9
2026-01-20 05:13:31,255 ERROR    20 The requested URL /api/v1/search was not found
2026-01-20 05:13:32,176 ERROR    20 The requested URL /api/v1/search was not found
2026-01-20 05:30:35,460 ERROR    20 The requested URL /api/v1/search was not found
2026-01-20 05:30:36,368 ERROR    20 The requested URL /api/v1/search was not found
2026-01-20 05:42:03,995 ERROR    20 The requested URL /api/v1/search was not found
2026-01-20 05:42:04,902 ERROR    20 The requested URL /api/v1/search was not found
2026-01-20 05:52:39,867 ERROR    20 The requested URL /api/v1/search was not found
2026-01-20 05:52:40,775 ERROR    20 The requested URL /api/v1/search was not found
2026-01-20 05:53:05,349 ERROR    20 The requested URL /api/v1/search was not found
2026-01-20 05:53:06,257 ERROR    20 The requested URL /api/v1/search was not found
2026-01-20 09:34:18,081 ERROR    20 The requested URL /api/v1/search was not found
2026-01-20 09:34:18,999 ERROR    20 The requested URL /api/v1/search was not found
2026-01-20 09:39:01,209 ERROR    20 The requested URL /api/v1/search was not found
2026-01-20 09:39:02,120 ERROR    20 The requested URL /api/v1/search was not found
2026-01-20 10:03:32,978 ERROR    20 The requested URL /api/v1/search was not found
2026-01-20 10:03:33,889 ERROR    20 The requested URL /api/v1/search was not found
2026-01-21 06:15:29,466 INFO     22 ragflow_server log path: /ragflow/logs/ragflow_server.log, log levels: {'peewee': 'WARNING', 'pdfminer': 'WARNING', 'root': 'INFO'}
2026-01-21 06:15:29,468 INFO     22 
        ____   ___    ______ ______ __
       / __ \ /   |  / ____// ____// /____  _      __
      / /_/ // /| | / / __ / /_   / // __ \| | /| / /
     / _, _// ___ |/ /_/ // __/  / // /_/ /| |/ |/ /
    /_/ |_|/_/  |_|\____//_/    /_/ \____/ |__/|__/

    
2026-01-21 06:15:29,470 INFO     22 RAGFlow version: v0.23.1
2026-01-21 06:15:29,472 INFO     22 project base: /ragflow
2026-01-21 06:15:29,474 INFO     22 Current configs, from /ragflow/conf/service_conf.yaml:
	ragflow: {'host': '0.0.0.0', 'http_port': 9380}
	admin: {'host': '0.0.0.0', 'http_port': 9381}
	mysql: {'name': 'rag_flow', 'user': 'root', 'password': '********', 'host': 'mysql', 'port': 3306, 'max_connections': 900, 'stale_timeout': 300, 'max_allowed_packet': 1073741824}
	minio: {'user': 'rag_flow', 'password': '********', 'host': 'minio:9000', 'bucket': '', 'prefix_path': ''}
	es: {'hosts': 'http://es01:9200', 'username': 'elastic', 'password': '********'}
	os: {'hosts': 'http://opensearch01:9201', 'username': 'admin', 'password': '********'}
	infinity: {'uri': 'infinity:23817', 'db_name': 'default_db'}
	oceanbase: {'scheme': 'oceanbase', 'config': {'db_name': 'ragflow_doc', 'user': 'root@ragflow', 'password': 'infini_rag_flow', 'host': 'oceanbase', 'port': 2881}}
	redis: {'db': 1, 'username': '', 'password': '********', 'host': 'redis:6379'}
	user_default_llm: {'default_models': {'embedding_model': {'api_key': 'xxx', 'base_url': 'http://tei:80'}}}
2026-01-21 06:15:29,477 WARNING  22 SECURITY WARNING: Using auto-generated SECRET_KEY.
2026-01-21 06:15:29,486 WARNING  22 Load term.freq FAIL!
2026-01-21 06:15:29,499 WARNING  22 Realtime synonym is disabled, since no redis connection.
2026-01-21 06:15:29,511 WARNING  22 Load term.freq FAIL!
2026-01-21 06:15:29,521 WARNING  22 Realtime synonym is disabled, since no redis connection.
2026-01-21 06:15:29,532 INFO     22 MAX_CONTENT_LENGTH: 134217728
2026-01-21 06:15:29,537 INFO     22 MAX_FILE_COUNT_PER_USER: 0
2026-01-21 06:15:53,270 INFO     22 Init message_id sequence done, current max id is 1.
2026-01-21 06:15:53,277 INFO     22 No memory found, no need to init memory size.
2026-01-21 06:15:53,279 INFO     22 init web data success:9.16326355934143
2026-01-21 06:15:53,290 INFO     22 Recursively importing plugins from path `/ragflow/plugin/embedded_plugins`
2026-01-21 06:15:53,325 INFO     22 Loaded llm_tools plugin BadCalculatorPlugin version 1.0.0
2026-01-21 06:15:53,332 INFO     22 RAGFlow HTTP server start...
2026-01-21 06:15:54,333 INFO     22 Starting update_progress thread (delayed)
2026-01-21 06:15:54,345 INFO     22 update_progress lock_value: a252e84d-6a26-4214-8266-965ca56843b3
2026-01-21 06:15:55,958 INFO     22 Running on http://0.0.0.0:9380 (CTRL + C to quit)
2026-01-21 06:21:12,847 ERROR    22 update_progress exception
Traceback (most recent call last):
  File "/ragflow/.venv/lib/python3.12/site-packages/pymysql/connections.py", line 661, in connect
    sock = socket.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/socket.py", line 828, in create_connection
    for res in getaddrinfo(host, port, 0, SOCK_STREAM):
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/socket.py", line 963, in getaddrinfo
    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
socket.gaierror: [Errno -3] Temporary failure in name resolution

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/ragflow/.venv/lib/python3.12/site-packages/peewee.py", line 3232, in connect
    self._state.set_connection(self._connect())
                               ^^^^^^^^^^^^^^^
  File "/ragflow/.venv/lib/python3.12/site-packages/playhouse/pool.py", line 76, in inner
    return fn(self, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/ragflow/.venv/lib/python3.12/site-packages/playhouse/pool.py", line 169, in _connect
    conn = super(PooledDatabase, self)._connect()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/ragflow/.venv/lib/python3.12/site-packages/peewee.py", line 4201, in _connect
    conn = mysql.connect(db=self.database, autocommit=True,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/ragflow/.venv/lib/python3.12/site-packages/pymysql/connections.py", line 365, in __init__
    self.connect()
  File "/ragflow/.venv/lib/python3.12/site-packages/pymysql/connections.py", line 723, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on 'mysql' ([Errno -3] Temporary failure in name resolution)")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/ragflow/api/ragflow_server.py", line 56, in update_progress
    DocumentService.update_progress()
  File "/ragflow/.venv/lib/python3.12/site-packages/peewee.py", line 3128, in inner
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
  File "/ragflow/api/db/services/document_service.py", line 889, in update_progress
    cls._sync_progress(docs)
  File "/ragflow/.venv/lib/python3.12/site-packages/peewee.py", line 3127, in inner
    with ConnectionContext(self.db):
  File "/ragflow/.venv/lib/python3.12/site-packages/peewee.py", line 3122, in __enter__
    self.db.connect()
  File "/ragflow/.venv/lib/python3.12/site-packages/playhouse/pool.py", line 121, in connect
    return super(PooledDatabase, self).connect(reuse_if_open)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/ragflow/.venv/lib/python3.12/site-packages/peewee.py", line 3231, in connect
    with __exception_wrapper__:
  File "/ragflow/.venv/lib/python3.12/site-packages/peewee.py", line 3059, in __exit__
    reraise(new_type, new_type(exc_value, *exc_args), traceback)
  File "/ragflow/.venv/lib/python3.12/site-packages/peewee.py", line 192, in reraise
    raise value.with_traceback(tb)
  File "/ragflow/.venv/lib/python3.12/site-packages/peewee.py", line 3232, in connect
    self._state.set_connection(self._connect())
                               ^^^^^^^^^^^^^^^
  File "/ragflow/.venv/lib/python3.12/site-packages/playhouse/pool.py", line 76, in inner
    return fn(self, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/ragflow/.venv/lib/python3.12/site-packages/playhouse/pool.py", line 169, in _connect
    conn = super(PooledDatabase, self)._connect()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/ragflow/.venv/lib/python3.12/site-packages/peewee.py", line 4201, in _connect
    conn = mysql.connect(db=self.database, autocommit=True,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/ragflow/.venv/lib/python3.12/site-packages/pymysql/connections.py", line 365, in __init__
    self.connect()
  File "/ragflow/.venv/lib/python3.12/site-packages/pymysql/connections.py", line 723, in connect
    raise exc
peewee.OperationalError: (2003, "Can't connect to MySQL server on 'mysql' ([Errno -3] Temporary failure in name resolution)")
2026-01-21 06:43:06,490 INFO     18 ragflow_server log path: /ragflow/logs/ragflow_server.log, log levels: {'peewee': 'WARNING', 'pdfminer': 'WARNING', 'root': 'INFO'}
2026-01-21 06:43:06,492 INFO     18 
        ____   ___    ______ ______ __
       / __ \ /   |  / ____// ____// /____  _      __
      / /_/ // /| | / / __ / /_   / // __ \| | /| / /
     / _, _// ___ |/ /_/ // __/  / // /_/ /| |/ |/ /
    /_/ |_|/_/  |_|\____//_/    /_/ \____/ |__/|__/

    
2026-01-21 06:43:06,495 INFO     18 RAGFlow version: v0.23.1
2026-01-21 06:43:06,497 INFO     18 project base: /ragflow
2026-01-21 06:43:06,499 INFO     18 Current configs, from /ragflow/conf/service_conf.yaml:
	ragflow: {'host': '0.0.0.0', 'http_port': 9380}
	admin: {'host': '0.0.0.0', 'http_port': 9381}
	mysql: {'name': 'rag_flow', 'user': 'root', 'password': '********', 'host': 'mysql', 'port': 3306, 'max_connections': 900, 'stale_timeout': 300, 'max_allowed_packet': 1073741824}
	minio: {'user': 'rag_flow', 'password': '********', 'host': 'minio:9000', 'bucket': '', 'prefix_path': ''}
	es: {'hosts': 'http://es01:9200', 'username': 'elastic', 'password': '********'}
	os: {'hosts': 'http://opensearch01:9201', 'username': 'admin', 'password': '********'}
	infinity: {'uri': 'infinity:23817', 'db_name': 'default_db'}
	oceanbase: {'scheme': 'oceanbase', 'config': {'db_name': 'ragflow_doc', 'user': 'root@ragflow', 'password': 'infini_rag_flow', 'host': 'oceanbase', 'port': 2881}}
	redis: {'db': 1, 'username': '', 'password': '********', 'host': 'redis:6379'}
	user_default_llm: {'default_models': {'embedding_model': {'api_key': 'xxx', 'base_url': 'http://tei:80'}}}
2026-01-21 06:43:06,502 WARNING  18 SECURITY WARNING: Using auto-generated SECRET_KEY.
2026-01-21 06:43:06,509 WARNING  18 Load term.freq FAIL!
2026-01-21 06:43:06,517 WARNING  18 Realtime synonym is disabled, since no redis connection.
2026-01-21 06:43:06,523 WARNING  18 Load term.freq FAIL!
2026-01-21 06:43:06,530 WARNING  18 Realtime synonym is disabled, since no redis connection.
2026-01-21 06:43:06,533 INFO     18 MAX_CONTENT_LENGTH: 134217728
2026-01-21 06:43:06,535 INFO     18 MAX_FILE_COUNT_PER_USER: 0
2026-01-21 06:52:37,148 INFO     18 Close text detector.
2026-01-21 06:52:38,247 INFO     18 Close text recognizer.
2026-01-22 07:46:37,422 INFO     24 ragflow_server log path: /ragflow/logs/ragflow_server.log, log levels: {'peewee': 'WARNING', 'pdfminer': 'WARNING', 'root': 'INFO'}
2026-01-22 07:46:37,423 INFO     24 
        ____   ___    ______ ______ __
       / __ \ /   |  / ____// ____// /____  _      __
      / /_/ // /| | / / __ / /_   / // __ \| | /| / /
     / _, _// ___ |/ /_/ // __/  / // /_/ /| |/ |/ /
    /_/ |_|/_/  |_|\____//_/    /_/ \____/ |__/|__/

    
2026-01-22 07:46:37,424 INFO     24 RAGFlow version: v0.23.1
2026-01-22 07:46:37,425 INFO     24 project base: /ragflow
2026-01-22 07:46:37,425 INFO     24 Current configs, from /ragflow/conf/service_conf.yaml:
	ragflow: {'host': '0.0.0.0', 'http_port': 9380}
	admin: {'host': '0.0.0.0', 'http_port': 9381}
	mysql: {'name': 'rag_flow', 'user': 'root', 'password': '********', 'host': 'mysql', 'port': 3306, 'max_connections': 900, 'stale_timeout': 300, 'max_allowed_packet': 1073741824}
	minio: {'user': 'rag_flow', 'password': '********', 'host': 'minio:9000', 'bucket': '', 'prefix_path': ''}
	es: {'hosts': 'http://es01:9200', 'username': 'elastic', 'password': '********'}
	os: {'hosts': 'http://opensearch01:9201', 'username': 'admin', 'password': '********'}
	infinity: {'uri': 'infinity:23817', 'db_name': 'default_db'}
	oceanbase: {'scheme': 'oceanbase', 'config': {'db_name': 'ragflow_doc', 'user': 'root@ragflow', 'password': 'infini_rag_flow', 'host': 'oceanbase', 'port': 2881}}
	redis: {'db': 1, 'username': '', 'password': '********', 'host': 'redis:6379'}
	user_default_llm: {'default_models': {'embedding_model': {'api_key': 'xxx', 'base_url': 'http://tei:80'}}}
2026-01-22 07:46:37,428 WARNING  24 SECURITY WARNING: Using auto-generated SECRET_KEY.
2026-01-22 07:46:37,433 WARNING  24 Load term.freq FAIL!
2026-01-22 07:46:37,442 WARNING  24 Realtime synonym is disabled, since no redis connection.
2026-01-22 07:46:37,446 WARNING  24 Load term.freq FAIL!
2026-01-22 07:46:37,451 WARNING  24 Realtime synonym is disabled, since no redis connection.
2026-01-22 07:46:37,452 INFO     24 MAX_CONTENT_LENGTH: 134217728
2026-01-22 07:46:37,453 INFO     24 MAX_FILE_COUNT_PER_USER: 0
2026-01-22 07:46:44,444 INFO     24 Init message_id sequence done, current max id is 1.
2026-01-22 07:46:44,446 INFO     24 No memory found, no need to init memory size.
2026-01-22 07:46:44,447 INFO     24 init web data success:6.544011116027832
2026-01-22 07:46:44,449 INFO     24 Recursively importing plugins from path `/ragflow/plugin/embedded_plugins`
2026-01-22 07:46:44,452 INFO     24 Loaded llm_tools plugin BadCalculatorPlugin version 1.0.0
2026-01-22 07:46:44,453 INFO     24 RAGFlow HTTP server start...
2026-01-22 07:46:44,742 INFO     24 Running on http://0.0.0.0:9380 (CTRL + C to quit)
2026-01-22 07:46:45,453 INFO     24 Starting update_progress thread (delayed)
2026-01-22 07:46:45,455 INFO     24 update_progress lock_value: 6e41b840-1205-4008-882a-cf527116f61b
2026-01-22 07:47:03,634 WARNING  24 load_user got exception Signature b'Dr68yHhCX5W68MMFH24WBkFEv0I' does not match
2026-01-22 07:47:03,637 ERROR    24 Unhandled exception during request
Traceback (most recent call last):
  File "/ragflow/.venv/lib/python3.12/site-packages/quart/app.py", line 1500, in full_dispatch_request
    result = await self.dispatch_request(request_context)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/ragflow/.venv/lib/python3.12/site-packages/quart/app.py", line 1597, in dispatch_request
    return await self.ensure_async(handler)(**request_.view_args)  # type: ignore[return-value]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/ragflow/api/apps/__init__.py", line 168, in wrapper
    raise Unauthorized()
quart_auth.extension.Unauthorized: 401 Unauthorized: The server could not verify that you are authorized to access the URL requested. You either supplied the wrong credentials (e.g. a bad password), or your browser doesn't understand how to supply the credentials required.
2026-01-22 07:47:03,640 WARNING  24 load_user got exception Signature b'Dr68yHhCX5W68MMFH24WBkFEv0I' does not match
2026-01-22 07:47:03,646 WARNING  24 load_user got exception Signature b'Dr68yHhCX5W68MMFH24WBkFEv0I' does not match
2026-01-22 07:47:03,646 ERROR    24 Unhandled exception during request
Traceback (most recent call last):
  File "/ragflow/.venv/lib/python3.12/site-packages/quart/app.py", line 1500, in full_dispatch_request
    result = await self.dispatch_request(request_context)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/ragflow/.venv/lib/python3.12/site-packages/quart/app.py", line 1597, in dispatch_request
    return await self.ensure_async(handler)(**request_.view_args)  # type: ignore[return-value]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/ragflow/api/apps/__init__.py", line 168, in wrapper
    raise Unauthorized()
quart_auth.extension.Unauthorized: 401 Unauthorized: The server could not verify that you are authorized to access the URL requested. You either supplied the wrong credentials (e.g. a bad password), or your browser doesn't understand how to supply the credentials required.
2026-01-22 07:47:03,648 ERROR    24 Unhandled exception during request
Traceback (most recent call last):
  File "/ragflow/.venv/lib/python3.12/site-packages/quart/app.py", line 1500, in full_dispatch_request
    result = await self.dispatch_request(request_context)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/ragflow/.venv/lib/python3.12/site-packages/quart/app.py", line 1597, in dispatch_request
    return await self.ensure_async(handler)(**request_.view_args)  # type: ignore[return-value]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/ragflow/api/apps/__init__.py", line 168, in wrapper
    raise Unauthorized()
quart_auth.extension.Unauthorized: 401 Unauthorized: The server could not verify that you are authorized to access the URL requested. You either supplied the wrong credentials (e.g. a bad password), or your browser doesn't understand how to supply the credentials required.
2026-01-22 07:47:03,649 WARNING  24 load_user got exception Signature b'Dr68yHhCX5W68MMFH24WBkFEv0I' does not match
2026-01-22 07:47:03,654 ERROR    24 Unhandled exception during request
Traceback (most recent call last):
  File "/ragflow/.venv/lib/python3.12/site-packages/quart/app.py", line 1500, in full_dispatch_request
    result = await self.dispatch_request(request_context)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/ragflow/.venv/lib/python3.12/site-packages/quart/app.py", line 1597, in dispatch_request
    return await self.ensure_async(handler)(**request_.view_args)  # type: ignore[return-value]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/ragflow/api/apps/__init__.py", line 168, in wrapper
    raise Unauthorized()
quart_auth.extension.Unauthorized: 401 Unauthorized: The server could not verify that you are authorized to access the URL requested. You either supplied the wrong credentials (e.g. a bad password), or your browser doesn't understand how to supply the credentials required.
2026-01-22 07:55:36,142 INFO     20 ragflow_server log path: /ragflow/logs/ragflow_server.log, log levels: {'peewee': 'WARNING', 'pdfminer': 'WARNING', 'root': 'INFO'}
2026-01-22 07:55:36,144 INFO     20 
        ____   ___    ______ ______ __
       / __ \ /   |  / ____// ____// /____  _      __
      / /_/ // /| | / / __ / /_   / // __ \| | /| / /
     / _, _// ___ |/ /_/ // __/  / // /_/ /| |/ |/ /
    /_/ |_|/_/  |_|\____//_/    /_/ \____/ |__/|__/

    
2026-01-22 07:55:36,145 INFO     20 RAGFlow version: v0.23.1
2026-01-22 07:55:36,147 INFO     20 project base: /ragflow
2026-01-22 07:55:36,149 INFO     20 Current configs, from /ragflow/conf/service_conf.yaml:
	ragflow: {'host': '0.0.0.0', 'http_port': 9380}
	admin: {'host': '0.0.0.0', 'http_port': 9381}
	mysql: {'name': 'rag_flow', 'user': 'root', 'password': '********', 'host': 'mysql', 'port': 3306, 'max_connections': 900, 'stale_timeout': 300, 'max_allowed_packet': 1073741824}
	minio: {'user': 'rag_flow', 'password': '********', 'host': 'minio:9000', 'bucket': '', 'prefix_path': ''}
	es: {'hosts': 'http://es01:9200', 'username': 'elastic', 'password': '********'}
	os: {'hosts': 'http://opensearch01:9201', 'username': 'admin', 'password': '********'}
	infinity: {'uri': 'infinity:23817', 'db_name': 'default_db'}
	oceanbase: {'scheme': 'oceanbase', 'config': {'db_name': 'ragflow_doc', 'user': 'root@ragflow', 'password': 'infini_rag_flow', 'host': 'oceanbase', 'port': 2881}}
	redis: {'db': 1, 'username': '', 'password': '********', 'host': 'redis:6379'}
	user_default_llm: {'default_models': {'embedding_model': {'api_key': 'xxx', 'base_url': 'http://tei:80'}}}
2026-01-22 07:55:36,153 WARNING  20 SECURITY WARNING: Using auto-generated SECRET_KEY.
2026-01-22 07:55:36,163 WARNING  20 Load term.freq FAIL!
2026-01-22 07:55:36,181 WARNING  20 Realtime synonym is disabled, since no redis connection.
2026-01-22 07:55:36,204 WARNING  20 Load term.freq FAIL!
2026-01-22 07:55:36,228 WARNING  20 Realtime synonym is disabled, since no redis connection.
2026-01-22 07:55:36,232 INFO     20 MAX_CONTENT_LENGTH: 134217728
2026-01-22 07:55:36,245 INFO     20 MAX_FILE_COUNT_PER_USER: 0
2026-01-22 07:55:51,626 INFO     20 No need to init message_id sequence, current max id is 1.
2026-01-22 07:55:51,642 INFO     20 No memory found, no need to init memory size.
2026-01-22 07:55:51,645 INFO     20 init web data success:14.435430765151978
2026-01-22 07:55:51,648 INFO     20 Recursively importing plugins from path `/ragflow/plugin/embedded_plugins`
2026-01-22 07:55:51,651 INFO     20 Loaded llm_tools plugin BadCalculatorPlugin version 1.0.0
2026-01-22 07:55:51,681 INFO     20 RAGFlow HTTP server start...
2026-01-22 07:55:52,547 INFO     20 Running on http://0.0.0.0:9380 (CTRL + C to quit)
2026-01-22 07:55:52,681 INFO     20 Starting update_progress thread (delayed)
2026-01-22 07:55:52,686 INFO     20 update_progress lock_value: 7e4919d2-c3c7-491a-9c44-7be9863e1713
2026-01-23 06:51:35,823 INFO     22 ragflow_server log path: /ragflow/logs/ragflow_server.log, log levels: {'peewee': 'WARNING', 'pdfminer': 'WARNING', 'root': 'INFO'}
2026-01-23 06:51:35,824 INFO     22 
        ____   ___    ______ ______ __
       / __ \ /   |  / ____// ____// /____  _      __
      / /_/ // /| | / / __ / /_   / // __ \| | /| / /
     / _, _// ___ |/ /_/ // __/  / // /_/ /| |/ |/ /
    /_/ |_|/_/  |_|\____//_/    /_/ \____/ |__/|__/

    
2026-01-23 06:51:35,825 INFO     22 RAGFlow version: v0.23.1
2026-01-23 06:51:35,826 INFO     22 project base: /ragflow
2026-01-23 06:51:35,827 INFO     22 Current configs, from /ragflow/conf/service_conf.yaml:
	ragflow: {'host': '0.0.0.0', 'http_port': 9380}
	admin: {'host': '0.0.0.0', 'http_port': 9381}
	mysql: {'name': 'rag_flow', 'user': 'root', 'password': '********', 'host': 'mysql', 'port': 3306, 'max_connections': 900, 'stale_timeout': 300, 'max_allowed_packet': 1073741824}
	minio: {'user': 'rag_flow', 'password': '********', 'host': 'minio:9000', 'bucket': '', 'prefix_path': ''}
	es: {'hosts': 'http://es01:9200', 'username': 'elastic', 'password': '********'}
	os: {'hosts': 'http://opensearch01:9201', 'username': 'admin', 'password': '********'}
	infinity: {'uri': 'infinity:23817', 'db_name': 'default_db'}
	oceanbase: {'scheme': 'oceanbase', 'config': {'db_name': 'ragflow_doc', 'user': 'root@ragflow', 'password': 'infini_rag_flow', 'host': 'oceanbase', 'port': 2881}}
	redis: {'db': 1, 'username': '', 'password': '********', 'host': 'redis:6379'}
	user_default_llm: {'default_models': {'embedding_model': {'api_key': 'xxx', 'base_url': 'http://tei:80'}}}
2026-01-23 06:51:35,829 WARNING  22 SECURITY WARNING: Using auto-generated SECRET_KEY.
2026-01-23 06:51:35,834 WARNING  22 Load term.freq FAIL!
2026-01-23 06:51:35,844 WARNING  22 Realtime synonym is disabled, since no redis connection.
2026-01-23 06:51:35,848 WARNING  22 Load term.freq FAIL!
2026-01-23 06:51:35,854 WARNING  22 Realtime synonym is disabled, since no redis connection.
2026-01-23 06:51:35,855 INFO     22 MAX_CONTENT_LENGTH: 134217728
2026-01-23 06:51:35,856 INFO     22 MAX_FILE_COUNT_PER_USER: 0
2026-01-23 06:51:44,030 INFO     22 Init message_id sequence done, current max id is 1.
2026-01-23 06:51:44,032 INFO     22 No memory found, no need to init memory size.
2026-01-23 06:51:44,033 INFO     22 init web data success:7.661722183227539
2026-01-23 06:51:44,035 INFO     22 Recursively importing plugins from path `/ragflow/plugin/embedded_plugins`
2026-01-23 06:51:44,038 INFO     22 Loaded llm_tools plugin BadCalculatorPlugin version 1.0.0
2026-01-23 06:51:44,039 INFO     22 RAGFlow HTTP server start...
2026-01-23 06:51:44,353 INFO     22 Running on http://0.0.0.0:9380 (CTRL + C to quit)
2026-01-23 06:51:45,039 INFO     22 Starting update_progress thread (delayed)
2026-01-23 06:51:45,041 INFO     22 update_progress lock_value: f6f22be2-afb2-49d9-a7cf-a5090f5c6625
2026-01-23 07:05:06,651 ERROR    22 The requested URL /api/v1/search was not found
2026-01-23 07:13:13,000 WARNING  22 load_user got exception Signature b'tFStA0DtRkOCCVjGckB_lv_x7YY' does not match
2026-01-23 07:13:13,002 ERROR    22 Unhandled exception during request
Traceback (most recent call last):
  File "/ragflow/.venv/lib/python3.12/site-packages/quart/app.py", line 1500, in full_dispatch_request
    result = await self.dispatch_request(request_context)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/ragflow/.venv/lib/python3.12/site-packages/quart/app.py", line 1597, in dispatch_request
    return await self.ensure_async(handler)(**request_.view_args)  # type: ignore[return-value]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/ragflow/api/apps/__init__.py", line 168, in wrapper
    raise Unauthorized()
quart_auth.extension.Unauthorized: 401 Unauthorized: The server could not verify that you are authorized to access the URL requested. You either supplied the wrong credentials (e.g. a bad password), or your browser doesn't understand how to supply the credentials required.
2026-01-23 07:13:13,021 WARNING  22 load_user got exception Signature b'tFStA0DtRkOCCVjGckB_lv_x7YY' does not match
2026-01-23 07:13:13,022 ERROR    22 Unhandled exception during request
Traceback (most recent call last):
  File "/ragflow/.venv/lib/python3.12/site-packages/quart/app.py", line 1500, in full_dispatch_request
    result = await self.dispatch_request(request_context)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/ragflow/.venv/lib/python3.12/site-packages/quart/app.py", line 1597, in dispatch_request
    return await self.ensure_async(handler)(**request_.view_args)  # type: ignore[return-value]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/ragflow/api/apps/__init__.py", line 168, in wrapper
    raise Unauthorized()
quart_auth.extension.Unauthorized: 401 Unauthorized: The server could not verify that you are authorized to access the URL requested. You either supplied the wrong credentials (e.g. a bad password), or your browser doesn't understand how to supply the credentials required.
2026-01-23 07:13:13,074 WARNING  22 load_user got exception Signature b'tFStA0DtRkOCCVjGckB_lv_x7YY' does not match
2026-01-23 07:13:13,075 ERROR    22 Unhandled exception during request
Traceback (most recent call last):
  File "/ragflow/.venv/lib/python3.12/site-packages/quart/app.py", line 1500, in full_dispatch_request
    result = await self.dispatch_request(request_context)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/ragflow/.venv/lib/python3.12/site-packages/quart/app.py", line 1597, in dispatch_request
    return await self.ensure_async(handler)(**request_.view_args)  # type: ignore[return-value]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/ragflow/api/apps/__init__.py", line 168, in wrapper
    raise Unauthorized()
quart_auth.extension.Unauthorized: 401 Unauthorized: The server could not verify that you are authorized to access the URL requested. You either supplied the wrong credentials (e.g. a bad password), or your browser doesn't understand how to supply the credentials required.
2026-01-23 07:13:13,077 WARNING  22 load_user got exception Signature b'tFStA0DtRkOCCVjGckB_lv_x7YY' does not match
2026-01-23 07:13:13,079 ERROR    22 Unhandled exception during request
Traceback (most recent call last):
  File "/ragflow/.venv/lib/python3.12/site-packages/quart/app.py", line 1500, in full_dispatch_request
    result = await self.dispatch_request(request_context)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/ragflow/.venv/lib/python3.12/site-packages/quart/app.py", line 1597, in dispatch_request
    return await self.ensure_async(handler)(**request_.view_args)  # type: ignore[return-value]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/ragflow/api/apps/__init__.py", line 168, in wrapper
    raise Unauthorized()
quart_auth.extension.Unauthorized: 401 Unauthorized: The server could not verify that you are authorized to access the URL requested. You either supplied the wrong credentials (e.g. a bad password), or your browser doesn't understand how to supply the credentials required.
2026-01-23 07:13:50,483 WARNING  22 Database connection issue (attempt 1/5): (0, '')
2026-01-23 07:15:55,618 WARNING  22 Database connection issue (attempt 1/5): (0, '')
2026-01-23 07:15:57,510 WARNING  22 Database connection issue (attempt 1/5): (0, '')
2026-01-23 07:16:18,349 WARNING  22 Database connection issue (attempt 1/5): (0, '')
2026-01-23 07:16:28,852 INFO     22 [HISTORY][
  {
    "role": "user",
    "content": "Hello! How are you doing!"
  }
]
2026-01-23 07:16:28,869 INFO     22 
LiteLLM completion() model= llama3.1; provider = ollama_chat
2026-01-23 07:16:47,940 WARNING  22 Database connection issue (attempt 1/5): (0, '')
2026-01-23 07:17:41,883 WARNING  22 Database connection issue (attempt 1/5): (0, '')
2026-01-23 07:17:41,902 WARNING  22 Database connection issue (attempt 1/5): (0, '')
2026-01-23 07:17:59,661 WARNING  22 Database connection issue (attempt 1/5): (0, '')
2026-01-23 07:18:06,494 WARNING  22 Database connection issue (attempt 1/5): (0, '')
2026-01-23 07:18:40,660 WARNING  22 Database connection issue (attempt 1/5): (0, '')
2026-01-23 07:18:40,694 WARNING  22 Database connection issue (attempt 1/5): (0, '')
2026-01-23 07:18:53,587 WARNING  22 Database connection issue (attempt 1/5): (0, '')
2026-01-23 07:19:11,702 WARNING  22 Database connection issue (attempt 1/5): (0, '')
2026-01-23 07:19:11,738 INFO     22 HEAD http://es01:9200/ragflow_905a2476f72311f0b3a892e0b789fe7f [status:404 duration:0.096s]
2026-01-23 07:20:47,608 INFO     22 HEAD http://es01:9200/ragflow_905a2476f72311f0b3a892e0b789fe7f [status:404 duration:0.006s]
2026-01-23 07:20:47,617 WARNING  22 Database connection issue (attempt 1/5): (0, '')
2026-01-23 07:21:01,251 WARNING  22 Database connection issue (attempt 1/5): (0, '')
2026-01-23 07:21:18,128 WARNING  22 Database connection issue (attempt 1/5): (0, '')
2026-01-23 07:21:18,156 WARNING  22 Database connection issue (attempt 1/5): (0, '')
2026-01-23 07:21:19,137 INFO     22 HEAD http://es01:9200/ragflow_905a2476f72311f0b3a892e0b789fe7f [status:404 duration:0.003s]
2026-01-23 07:21:23,623 WARNING  22 Database connection issue (attempt 1/5): (0, '')
2026-01-23 07:25:35,076 WARNING  22 Database connection issue (attempt 1/5): (0, '')
2026-01-23 07:25:35,672 INFO     22 HEAD http://es01:9200/ragflow_905a2476f72311f0b3a892e0b789fe7f [status:200 duration:0.090s]
2026-01-23 07:25:52,375 WARNING  22 Database connection issue (attempt 1/5): (0, '')
2026-01-23 07:25:55,676 WARNING  22 Database connection issue (attempt 1/5): (0, '')
2026-01-23 07:26:19,072 WARNING  22 Database connection issue (attempt 1/5): (0, '')
2026-01-23 07:26:43,368 INFO     22 POST http://es01:9200/ragflow_905a2476f72311f0b3a892e0b789fe7f/_search [status:200 duration:0.099s]
2026-01-23 07:27:38,066 WARNING  22 Database connection issue (attempt 1/5): (0, '')
2026-01-23 07:28:39,365 WARNING  22 Database connection issue (attempt 1/5): (0, '')
2026-01-23 07:28:43,762 INFO     22 HEAD http://es01:9200/ragflow_905a2476f72311f0b3a892e0b789fe7f [status:200 duration:0.098s]
2026-01-23 07:28:43,862 INFO     22 POST http://es01:9200/ragflow_905a2476f72311f0b3a892e0b789fe7f/_search [status:200 duration:0.092s]
2026-01-23 07:37:19,657 WARNING  22 Database connection issue (attempt 1/5): (0, '')
2026-01-23 07:37:19,667 WARNING  22 Database connection issue (attempt 1/5): (0, '')
2026-01-23 07:37:20,679 WARNING  22 Database connection issue (attempt 1/5): (0, '')
2026-01-23 07:37:20,683 INFO     22 HEAD http://es01:9200/ragflow_905a2476f72311f0b3a892e0b789fe7f [status:200 duration:0.004s]
2026-01-23 07:37:20,694 INFO     22 POST http://es01:9200/ragflow_905a2476f72311f0b3a892e0b789fe7f/_search [status:200 duration:0.007s]
2026-01-23 07:37:26,017 INFO     22 POST http://es01:9200/ragflow_905a2476f72311f0b3a892e0b789fe7f/_update_by_query?refresh=true&slices=5 [status:200 duration:0.439s]
2026-01-23 07:37:26,138 INFO     22 POST http://es01:9200/ragflow_905a2476f72311f0b3a892e0b789fe7f/_update_by_query?refresh=true&slices=5 [status:200 duration:0.103s]
2026-01-23 07:37:26,245 INFO     22 POST http://es01:9200/ragflow_905a2476f72311f0b3a892e0b789fe7f/_update_by_query?refresh=true&slices=5 [status:200 duration:0.084s]
2026-01-23 07:37:26,347 INFO     22 POST http://es01:9200/ragflow_905a2476f72311f0b3a892e0b789fe7f/_update_by_query?refresh=true&slices=5 [status:200 duration:0.084s]
2026-01-23 07:37:26,495 INFO     22 POST http://es01:9200/ragflow_905a2476f72311f0b3a892e0b789fe7f/_update_by_query?refresh=true&slices=5 [status:200 duration:0.126s]
2026-01-23 07:37:26,598 INFO     22 POST http://es01:9200/ragflow_905a2476f72311f0b3a892e0b789fe7f/_update_by_query?refresh=true&slices=5 [status:200 duration:0.083s]
2026-01-23 07:37:26,693 INFO     22 POST http://es01:9200/ragflow_905a2476f72311f0b3a892e0b789fe7f/_update_by_query?refresh=true&slices=5 [status:200 duration:0.073s]
2026-01-23 07:37:27,064 INFO     22 POST http://es01:9200/ragflow_905a2476f72311f0b3a892e0b789fe7f/_update_by_query?refresh=true&slices=5 [status:200 duration:0.354s]
2026-01-23 07:37:27,157 INFO     22 POST http://es01:9200/ragflow_905a2476f72311f0b3a892e0b789fe7f/_update_by_query?refresh=true&slices=5 [status:200 duration:0.071s]
2026-01-23 07:37:27,277 INFO     22 POST http://es01:9200/ragflow_905a2476f72311f0b3a892e0b789fe7f/_update_by_query?refresh=true&slices=5 [status:200 duration:0.101s]
2026-01-23 07:37:27,391 INFO     22 POST http://es01:9200/ragflow_905a2476f72311f0b3a892e0b789fe7f/_update_by_query?refresh=true&slices=5 [status:200 duration:0.094s]
2026-01-23 07:37:27,509 INFO     22 POST http://es01:9200/ragflow_905a2476f72311f0b3a892e0b789fe7f/_update_by_query?refresh=true&slices=5 [status:200 duration:0.099s]
2026-01-23 07:37:27,675 INFO     22 POST http://es01:9200/ragflow_905a2476f72311f0b3a892e0b789fe7f/_update_by_query?refresh=true&slices=5 [status:200 duration:0.118s]
2026-01-23 07:37:27,807 INFO     22 POST http://es01:9200/ragflow_905a2476f72311f0b3a892e0b789fe7f/_update_by_query?refresh=true&slices=5 [status:200 duration:0.109s]
2026-01-23 07:37:27,927 INFO     22 POST http://es01:9200/ragflow_905a2476f72311f0b3a892e0b789fe7f/_update_by_query?refresh=true&slices=5 [status:200 duration:0.094s]
2026-01-23 07:37:28,034 INFO     22 POST http://es01:9200/ragflow_905a2476f72311f0b3a892e0b789fe7f/_update_by_query?refresh=true&slices=5 [status:200 duration:0.084s]
2026-01-23 07:37:28,129 INFO     22 POST http://es01:9200/ragflow_905a2476f72311f0b3a892e0b789fe7f/_update_by_query?refresh=true&slices=5 [status:200 duration:0.071s]
2026-01-23 07:37:28,211 INFO     22 POST http://es01:9200/ragflow_905a2476f72311f0b3a892e0b789fe7f/_update_by_query?refresh=true&slices=5 [status:200 duration:0.060s]
2026-01-23 07:37:28,295 INFO     22 POST http://es01:9200/ragflow_905a2476f72311f0b3a892e0b789fe7f/_update_by_query?refresh=true&slices=5 [status:200 duration:0.065s]
2026-01-23 07:37:28,447 INFO     22 POST http://es01:9200/ragflow_905a2476f72311f0b3a892e0b789fe7f/_update_by_query?refresh=true&slices=5 [status:200 duration:0.127s]
2026-01-23 07:37:28,579 INFO     22 POST http://es01:9200/ragflow_905a2476f72311f0b3a892e0b789fe7f/_update_by_query?refresh=true&slices=5 [status:200 duration:0.108s]
2026-01-23 07:37:28,748 INFO     22 POST http://es01:9200/ragflow_905a2476f72311f0b3a892e0b789fe7f/_update_by_query?refresh=true&slices=5 [status:200 duration:0.145s]
2026-01-23 07:37:28,901 INFO     22 POST http://es01:9200/ragflow_905a2476f72311f0b3a892e0b789fe7f/_update_by_query?refresh=true&slices=5 [status:200 duration:0.113s]
2026-01-23 07:37:29,012 INFO     22 POST http://es01:9200/ragflow_905a2476f72311f0b3a892e0b789fe7f/_update_by_query?refresh=true&slices=5 [status:200 duration:0.091s]
2026-01-23 07:37:45,705 ERROR    22 The requested URL /api/v1/search was not found
2026-01-23 07:37:46,913 ERROR    22 The requested URL /api/v1/search was not found
2026-01-23 07:49:47,948 ERROR    22 The requested URL /api/v1/search was not found
2026-01-23 07:49:49,158 ERROR    22 The requested URL /api/v1/search was not found
2026-01-23 08:18:24,012 WARNING  22 Database connection issue (attempt 1/5): (0, '')
2026-01-23 08:18:24,104 INFO     22 HEAD http://es01:9200/ragflow_905a2476f72311f0b3a892e0b789fe7f [status:200 duration:0.071s]
2026-01-23 08:18:24,123 INFO     22 POST http://es01:9200/ragflow_905a2476f72311f0b3a892e0b789fe7f/_search [status:200 duration:0.012s]
2026-01-23 08:18:25,030 WARNING  22 Database connection issue (attempt 1/5): (0, '')
2026-01-23 08:32:50,909 ERROR    22 The requested URL /api/v1/ was not found
2026-01-23 08:32:51,436 ERROR    22 The requested URL /favicon.ico was not found
2026-01-23 08:33:06,051 ERROR    22 Unhandled exception during request
Traceback (most recent call last):
  File "/ragflow/.venv/lib/python3.12/site-packages/quart/app.py", line 1500, in full_dispatch_request
    result = await self.dispatch_request(request_context)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/ragflow/.venv/lib/python3.12/site-packages/quart/app.py", line 1591, in dispatch_request
    self.raise_routing_exception(request_)
  File "/ragflow/.venv/lib/python3.12/site-packages/quart/app.py", line 1578, in raise_routing_exception
    raise request.routing_exception
  File "/ragflow/.venv/lib/python3.12/site-packages/quart/ctx.py", line 73, in match_request
    ) = self.url_adapter.match(  # type: ignore
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/ragflow/.venv/lib/python3.12/site-packages/werkzeug/routing/map.py", line 624, in match
    raise MethodNotAllowed(valid_methods=list(e.have_match_for)) from None
werkzeug.exceptions.MethodNotAllowed: 405 Method Not Allowed: The method is not allowed for the requested URL.
2026-01-23 08:36:19,011 ERROR    22 Unhandled exception during request
Traceback (most recent call last):
  File "/ragflow/.venv/lib/python3.12/site-packages/quart/app.py", line 1500, in full_dispatch_request
    result = await self.dispatch_request(request_context)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/ragflow/.venv/lib/python3.12/site-packages/quart/app.py", line 1591, in dispatch_request
    self.raise_routing_exception(request_)
  File "/ragflow/.venv/lib/python3.12/site-packages/quart/app.py", line 1578, in raise_routing_exception
    raise request.routing_exception
  File "/ragflow/.venv/lib/python3.12/site-packages/quart/ctx.py", line 73, in match_request
    ) = self.url_adapter.match(  # type: ignore
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/ragflow/.venv/lib/python3.12/site-packages/werkzeug/routing/map.py", line 624, in match
    raise MethodNotAllowed(valid_methods=list(e.have_match_for)) from None
werkzeug.exceptions.MethodNotAllowed: 405 Method Not Allowed: The method is not allowed for the requested URL.
2026-01-23 08:37:25,186 ERROR    22 Unhandled exception during request
Traceback (most recent call last):
  File "/ragflow/.venv/lib/python3.12/site-packages/quart/app.py", line 1500, in full_dispatch_request
    result = await self.dispatch_request(request_context)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/ragflow/.venv/lib/python3.12/site-packages/quart/app.py", line 1591, in dispatch_request
    self.raise_routing_exception(request_)
  File "/ragflow/.venv/lib/python3.12/site-packages/quart/app.py", line 1578, in raise_routing_exception
    raise request.routing_exception
  File "/ragflow/.venv/lib/python3.12/site-packages/quart/ctx.py", line 73, in match_request
    ) = self.url_adapter.match(  # type: ignore
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/ragflow/.venv/lib/python3.12/site-packages/werkzeug/routing/map.py", line 624, in match
    raise MethodNotAllowed(valid_methods=list(e.have_match_for)) from None
werkzeug.exceptions.MethodNotAllowed: 405 Method Not Allowed: The method is not allowed for the requested URL.
2026-01-23 08:37:48,331 ERROR    22 Unhandled exception during request
Traceback (most recent call last):
  File "/ragflow/.venv/lib/python3.12/site-packages/quart/app.py", line 1500, in full_dispatch_request
    result = await self.dispatch_request(request_context)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/ragflow/.venv/lib/python3.12/site-packages/quart/app.py", line 1591, in dispatch_request
    self.raise_routing_exception(request_)
  File "/ragflow/.venv/lib/python3.12/site-packages/quart/app.py", line 1578, in raise_routing_exception
    raise request.routing_exception
  File "/ragflow/.venv/lib/python3.12/site-packages/quart/ctx.py", line 73, in match_request
    ) = self.url_adapter.match(  # type: ignore
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/ragflow/.venv/lib/python3.12/site-packages/werkzeug/routing/map.py", line 624, in match
    raise MethodNotAllowed(valid_methods=list(e.have_match_for)) from None
werkzeug.exceptions.MethodNotAllowed: 405 Method Not Allowed: The method is not allowed for the requested URL.
2026-01-23 08:38:43,795 ERROR    22 Unhandled exception during request
Traceback (most recent call last):
  File "/ragflow/.venv/lib/python3.12/site-packages/quart/app.py", line 1500, in full_dispatch_request
    result = await self.dispatch_request(request_context)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/ragflow/.venv/lib/python3.12/site-packages/quart/app.py", line 1591, in dispatch_request
    self.raise_routing_exception(request_)
  File "/ragflow/.venv/lib/python3.12/site-packages/quart/app.py", line 1578, in raise_routing_exception
    raise request.routing_exception
  File "/ragflow/.venv/lib/python3.12/site-packages/quart/ctx.py", line 73, in match_request
    ) = self.url_adapter.match(  # type: ignore
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/ragflow/.venv/lib/python3.12/site-packages/werkzeug/routing/map.py", line 624, in match
    raise MethodNotAllowed(valid_methods=list(e.have_match_for)) from None
werkzeug.exceptions.MethodNotAllowed: 405 Method Not Allowed: The method is not allowed for the requested URL.
2026-01-23 08:38:57,422 ERROR    22 Unhandled exception during request
Traceback (most recent call last):
  File "/ragflow/.venv/lib/python3.12/site-packages/quart/app.py", line 1500, in full_dispatch_request
    result = await self.dispatch_request(request_context)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/ragflow/.venv/lib/python3.12/site-packages/quart/app.py", line 1591, in dispatch_request
    self.raise_routing_exception(request_)
  File "/ragflow/.venv/lib/python3.12/site-packages/quart/app.py", line 1578, in raise_routing_exception
    raise request.routing_exception
  File "/ragflow/.venv/lib/python3.12/site-packages/quart/ctx.py", line 73, in match_request
    ) = self.url_adapter.match(  # type: ignore
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/ragflow/.venv/lib/python3.12/site-packages/werkzeug/routing/map.py", line 624, in match
    raise MethodNotAllowed(valid_methods=list(e.have_match_for)) from None
werkzeug.exceptions.MethodNotAllowed: 405 Method Not Allowed: The method is not allowed for the requested URL.
2026-01-23 08:39:35,965 WARNING  22 Database connection issue (attempt 1/5): (0, '')
2026-01-23 08:39:35,972 WARNING  22 Database connection issue (attempt 1/5): (0, '')
2026-01-23 08:39:37,044 INFO     22 HEAD http://es01:9200/ragflow_905a2476f72311f0b3a892e0b789fe7f [status:200 duration:0.063s]
2026-01-23 08:39:37,054 INFO     22 POST http://es01:9200/ragflow_905a2476f72311f0b3a892e0b789fe7f/_search [status:200 duration:0.006s]
2026-01-23 09:13:09,555 WARNING  22 Database connection issue (attempt 1/5): (0, '')
2026-01-23 09:13:09,616 INFO     22 HEAD http://es01:9200/ragflow_905a2476f72311f0b3a892e0b789fe7f [status:200 duration:0.079s]
2026-01-23 09:13:09,644 INFO     22 POST http://es01:9200/ragflow_905a2476f72311f0b3a892e0b789fe7f/_search [status:200 duration:0.020s]
2026-01-23 09:14:36,231 WARNING  22 Database connection issue (attempt 1/5): (0, '')
2026-01-23 09:14:36,259 WARNING  22 Database connection issue (attempt 1/5): (0, '')
2026-01-23 09:14:37,242 INFO     22 HEAD http://es01:9200/ragflow_905a2476f72311f0b3a892e0b789fe7f [status:200 duration:0.003s]
2026-01-23 09:14:37,252 INFO     22 POST http://es01:9200/ragflow_905a2476f72311f0b3a892e0b789fe7f/_search [status:200 duration:0.006s]
2026-01-23 09:14:42,783 WARNING  22 Database connection issue (attempt 1/5): (0, '')
2026-01-23 09:15:50,525 WARNING  22 Database connection issue (attempt 1/5): (0, '')
2026-01-23 09:17:51,021 WARNING  22 Database connection issue (attempt 1/5): (0, '')
2026-01-23 09:17:54,390 WARNING  22 Database connection issue (attempt 1/5): (0, '')
2026-01-23 09:17:55,381 WARNING  22 Database connection issue (attempt 1/5): (0, '')
2026-01-23 09:17:56,397 INFO     22 HEAD http://es01:9200/ragflow_905a2476f72311f0b3a892e0b789fe7f [status:200 duration:0.003s]
2026-01-23 09:17:56,405 INFO     22 POST http://es01:9200/ragflow_905a2476f72311f0b3a892e0b789fe7f/_search [status:200 duration:0.005s]
2026-01-23 09:18:34,634 WARNING  22 Database connection issue (attempt 1/5): (0, '')
2026-01-23 09:18:34,663 WARNING  22 Database connection issue (attempt 1/5): (0, '')
2026-01-23 09:18:35,644 INFO     22 HEAD http://es01:9200/ragflow_905a2476f72311f0b3a892e0b789fe7f [status:200 duration:0.003s]
2026-01-23 09:18:35,652 INFO     22 POST http://es01:9200/ragflow_905a2476f72311f0b3a892e0b789fe7f/_search [status:200 duration:0.005s]
2026-01-23 09:23:20,854 WARNING  22 Database connection issue (attempt 1/5): (0, '')
2026-01-23 09:23:20,868 WARNING  22 Database connection issue (attempt 1/5): (0, '')
2026-01-23 09:23:21,863 INFO     22 HEAD http://es01:9200/ragflow_905a2476f72311f0b3a892e0b789fe7f [status:200 duration:0.003s]
2026-01-23 09:23:21,872 INFO     22 POST http://es01:9200/ragflow_905a2476f72311f0b3a892e0b789fe7f/_search [status:200 duration:0.006s]
2026-01-23 09:26:46,705 INFO     22 POST http://es01:9200/ragflow_905a2476f72311f0b3a892e0b789fe7f/_search [status:200 duration:0.564s]
2026-01-23 09:54:23,299 WARNING  22 Database connection issue (attempt 1/5): (0, '')
2026-01-23 09:54:23,426 INFO     22 HEAD http://es01:9200/ragflow_905a2476f72311f0b3a892e0b789fe7f [status:200 duration:0.091s]
2026-01-23 09:54:23,438 INFO     22 POST http://es01:9200/ragflow_905a2476f72311f0b3a892e0b789fe7f/_search [status:200 duration:0.008s]
2026-01-23 10:04:06,017 INFO     22 HEAD http://es01:9200/ragflow_905a2476f72311f0b3a892e0b789fe7f [status:200 duration:0.005s]
2026-01-23 10:04:06,019 WARNING  22 Database connection issue (attempt 1/5): (0, '')
2026-01-23 10:04:06,029 INFO     22 POST http://es01:9200/ragflow_905a2476f72311f0b3a892e0b789fe7f/_search [status:200 duration:0.007s]
2026-01-23 11:06:41,020 INFO     22 [HISTORY][
  {
    "role": "system",
    "content": "## Role\nYou are a text analyzer.\n\n## Task\nExtract the most important keywords/phrases of a given piece of text content.\n\n## Requirements\n- Summarize the text content, and give the top 3 important keywords/phrases.\n- The keywords MUST be in the same language as the given piece of text content.\n- The keywords are delimited by ENGLISH COMMA.\n- Output keywords ONLY.\n\n---\n\n## Text Content\nPoltica de crdito para risco MDIO. Fornea detalhes sobre critrios de aprovao, limites e condies."
  },
  {
    "role": "user",
    "content": "Output: "
  }
]
2026-01-23 11:06:41,053 INFO     22 
LiteLLM completion() model= llama3.1; provider = ollama_chat
2026-01-23 11:06:50,767 ERROR    22 Request failed: 
NoneType: None
2026-01-23 11:06:50,859 INFO     22 [HISTORY][
  {
    "role": "system",
    "content": "## Role\nYou are a text analyzer.\n\n## Task\nExtract the most important keywords/phrases of a given piece of text content.\n\n## Requirements\n- Summarize the text content, and give the top 3 important keywords/phrases.\n- The keywords MUST be in the same language as the given piece of text content.\n- The keywords are delimited by ENGLISH COMMA.\n- Output keywords ONLY.\n\n---\n\n## Text Content\nPoltica de crdito para risco MDIO. Fornea detalhes sobre critrios de aprovao, limites e condies."
  },
  {
    "role": "user",
    "content": "Output: "
  }
]
2026-01-23 11:06:50,866 INFO     22 
LiteLLM completion() model= llama3.1; provider = ollama_chat
2026-01-23 11:07:00,775 ERROR    22 Request failed: 
NoneType: None
2026-01-23 11:07:02,090 INFO     22 [HISTORY][
  {
    "role": "system",
    "content": "## Role\nYou are a text analyzer.\n\n## Task\nExtract the most important keywords/phrases of a given piece of text content.\n\n## Requirements\n- Summarize the text content, and give the top 3 important keywords/phrases.\n- The keywords MUST be in the same language as the given piece of text content.\n- The keywords are delimited by ENGLISH COMMA.\n- Output keywords ONLY.\n\n---\n\n## Text Content\nRegulamentaes BACEN relevantes para anlise de crdito de risco MDIO. Liste resolues e circulares principais."
  },
  {
    "role": "user",
    "content": "Output: "
  }
]
2026-01-23 11:07:02,093 INFO     22 
LiteLLM completion() model= llama3.1; provider = ollama_chat
2026-01-23 11:07:10,381 INFO     22 POST http://es01:9200/ragflow_905a2476f72311f0b3a892e0b789fe7f/_search [status:200 duration:0.864s]
2026-01-23 11:09:29,320 INFO     22 [HISTORY][
  {
    "role": "system",
    "content": "## Role\nYou are a text analyzer.\n\n## Task\nExtract the most important keywords/phrases of a given piece of text content.\n\n## Requirements\n- Summarize the text content, and give the top 3 important keywords/phrases.\n- The keywords MUST be in the same language as the given piece of text content.\n- The keywords are delimited by ENGLISH COMMA.\n- Output keywords ONLY.\n\n---\n\n## Text Content\nPoltica de crdito para risco MDIO. Fornea detalhes sobre critrios de aprovao, limites e condies."
  },
  {
    "role": "user",
    "content": "Output: "
  }
]
2026-01-23 11:09:29,324 INFO     22 
LiteLLM completion() model= llama3.1; provider = ollama_chat
2026-01-23 11:09:34,122 INFO     22 POST http://es01:9200/ragflow_905a2476f72311f0b3a892e0b789fe7f/_search [status:200 duration:0.286s]
2026-01-23 11:09:35,513 INFO     22 [HISTORY][
  {
    "role": "system",
    "content": "## Role\nYou are a text analyzer.\n\n## Task\nExtract the most important keywords/phrases of a given piece of text content.\n\n## Requirements\n- Summarize the text content, and give the top 3 important keywords/phrases.\n- The keywords MUST be in the same language as the given piece of text content.\n- The keywords are delimited by ENGLISH COMMA.\n- Output keywords ONLY.\n\n---\n\n## Text Content\nRegulamentaes BACEN relevantes para anlise de crdito de risco MDIO. Liste resolues e circulares principais."
  },
  {
    "role": "user",
    "content": "Output: "
  }
]
2026-01-23 11:09:35,515 INFO     22 
LiteLLM completion() model= llama3.1; provider = ollama_chat
2026-01-23 11:09:40,594 INFO     22 POST http://es01:9200/ragflow_905a2476f72311f0b3a892e0b789fe7f/_search [status:200 duration:0.222s]
2026-01-23 11:12:54,679 INFO     22 [HISTORY][
  {
    "role": "system",
    "content": "## Role\nYou are a text analyzer.\n\n## Task\nExtract the most important keywords/phrases of a given piece of text content.\n\n## Requirements\n- Summarize the text content, and give the top 3 important keywords/phrases.\n- The keywords MUST be in the same language as the given piece of text content.\n- The keywords are delimited by ENGLISH COMMA.\n- Output keywords ONLY.\n\n---\n\n## Text Content\nPoltica de crdito para risco MDIO. Fornea detalhes sobre critrios de aprovao, limites e condies."
  },
  {
    "role": "user",
    "content": "Output: "
  }
]
2026-01-23 11:12:54,681 INFO     22 
LiteLLM completion() model= llama3.1; provider = ollama_chat
2026-01-23 11:12:59,389 INFO     22 POST http://es01:9200/ragflow_905a2476f72311f0b3a892e0b789fe7f/_search [status:200 duration:0.230s]
2026-01-23 11:13:00,794 INFO     22 [HISTORY][
  {
    "role": "system",
    "content": "## Role\nYou are a text analyzer.\n\n## Task\nExtract the most important keywords/phrases of a given piece of text content.\n\n## Requirements\n- Summarize the text content, and give the top 3 important keywords/phrases.\n- The keywords MUST be in the same language as the given piece of text content.\n- The keywords are delimited by ENGLISH COMMA.\n- Output keywords ONLY.\n\n---\n\n## Text Content\nRegulamentaes BACEN relevantes para anlise de crdito de risco MDIO. Liste resolues e circulares principais."
  },
  {
    "role": "user",
    "content": "Output: "
  }
]
2026-01-23 11:13:00,796 INFO     22 
LiteLLM completion() model= llama3.1; provider = ollama_chat
2026-01-23 11:13:05,700 INFO     22 POST http://es01:9200/ragflow_905a2476f72311f0b3a892e0b789fe7f/_search [status:200 duration:0.192s]
2026-01-23 11:24:02,646 INFO     22 [HISTORY][
  {
    "role": "system",
    "content": "## Role\nYou are a text analyzer.\n\n## Task\nExtract the most important keywords/phrases of a given piece of text content.\n\n## Requirements\n- Summarize the text content, and give the top 3 important keywords/phrases.\n- The keywords MUST be in the same language as the given piece of text content.\n- The keywords are delimited by ENGLISH COMMA.\n- Output keywords ONLY.\n\n---\n\n## Text Content\nPoltica de crdito para risco MDIO. Fornea detalhes sobre critrios de aprovao, limites e condies."
  },
  {
    "role": "user",
    "content": "Output: "
  }
]
2026-01-23 11:24:02,649 INFO     22 
LiteLLM completion() model= llama3.1; provider = ollama_chat
2026-01-23 11:24:21,034 INFO     22 POST http://es01:9200/ragflow_905a2476f72311f0b3a892e0b789fe7f/_search [status:200 duration:0.327s]
2026-01-23 11:24:22,505 INFO     22 [HISTORY][
  {
    "role": "system",
    "content": "## Role\nYou are a text analyzer.\n\n## Task\nExtract the most important keywords/phrases of a given piece of text content.\n\n## Requirements\n- Summarize the text content, and give the top 3 important keywords/phrases.\n- The keywords MUST be in the same language as the given piece of text content.\n- The keywords are delimited by ENGLISH COMMA.\n- Output keywords ONLY.\n\n---\n\n## Text Content\nRegulamentaes BACEN relevantes para anlise de crdito de risco MDIO. Liste resolues e circulares principais."
  },
  {
    "role": "user",
    "content": "Output: "
  }
]
2026-01-23 11:24:22,509 INFO     22 
LiteLLM completion() model= llama3.1; provider = ollama_chat
2026-01-23 11:24:27,713 INFO     22 POST http://es01:9200/ragflow_905a2476f72311f0b3a892e0b789fe7f/_search [status:200 duration:0.155s]
2026-01-23 11:27:29,462 INFO     22 [HISTORY][
  {
    "role": "system",
    "content": "## Role\nYou are a text analyzer.\n\n## Task\nExtract the most important keywords/phrases of a given piece of text content.\n\n## Requirements\n- Summarize the text content, and give the top 3 important keywords/phrases.\n- The keywords MUST be in the same language as the given piece of text content.\n- The keywords are delimited by ENGLISH COMMA.\n- Output keywords ONLY.\n\n---\n\n## Text Content\nPoltica de crdito para risco MDIO. Fornea detalhes sobre critrios de aprovao, limites e condies."
  },
  {
    "role": "user",
    "content": "Output: "
  }
]
2026-01-23 11:27:29,466 INFO     22 
LiteLLM completion() model= llama3.1; provider = ollama_chat
2026-01-23 11:27:34,487 INFO     22 POST http://es01:9200/ragflow_905a2476f72311f0b3a892e0b789fe7f/_search [status:200 duration:0.201s]
2026-01-23 11:27:35,966 INFO     22 [HISTORY][
  {
    "role": "system",
    "content": "## Role\nYou are a text analyzer.\n\n## Task\nExtract the most important keywords/phrases of a given piece of text content.\n\n## Requirements\n- Summarize the text content, and give the top 3 important keywords/phrases.\n- The keywords MUST be in the same language as the given piece of text content.\n- The keywords are delimited by ENGLISH COMMA.\n- Output keywords ONLY.\n\n---\n\n## Text Content\nRegulamentaes BACEN relevantes para anlise de crdito de risco MDIO. Liste resolues e circulares principais."
  },
  {
    "role": "user",
    "content": "Output: "
  }
]
2026-01-23 11:27:35,969 INFO     22 
LiteLLM completion() model= llama3.1; provider = ollama_chat
2026-01-23 11:27:41,246 INFO     22 POST http://es01:9200/ragflow_905a2476f72311f0b3a892e0b789fe7f/_search [status:200 duration:0.154s]
